<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LL LearnLanguage ‚Äî –ï–∫—ñ —Ç—ñ–ª ‚Äî —à–µ–∫—Å—ñ–∑ –∫”©–∫–∂–∏–µ–∫!</title>
  <style>
    :root{
  --bg:#fff6f9;           /* –ê—à—ã“õ —Ñ–æ–Ω */
  --card:#ffffff;
  --ink:#333333;
  --muted:#777;
  --accent:#ff6b6b;       /* “ö—ã–∑“ì—ã–ª—Ç –∞–∫—Ü–µ–Ω—Ç */
  --accent2:#4dabf7;      /* –ö”©–∫—à—ñ–ª –∞–∫—Ü–µ–Ω—Ç */
  --warn:#f59e0b;
  --err:#ef4444;
  --ring:0 0 0 3px rgba(255,107,107,.35);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:"Comic Sans MS", "Poppins", sans-serif;background:var(--bg);color:var(--ink)}

.wrap{max-width:1100px;margin:0 auto;padding:16px 16px 96px}

header{position:sticky;top:0;z-index:50;background:#ffeef2;backdrop-filter:saturate(140%) blur(8px);border-bottom:2px solid #ffd6e0}
.h-row{display:flex;align-items:center;gap:12px;justify-content:space-between;padding:12px 16px}
.logo{display:flex;align-items:center;gap:10px;font-weight:900;font-size:20px}
.logo span{padding:6px 12px;border-radius:12px;background:linear-gradient(135deg,#ff9aa2,#fecfef);color:#fff;box-shadow:0 3px 6px rgba(0,0,0,.2)}

.btn{appearance:none;border:none;background:#ffd6e0;color:#333;padding:10px 16px;border-radius:16px;cursor:pointer;font-weight:600;transition:.2s}
.btn:hover{transform:translateY(-2px);background:#ffc0cb}
.btn.primary{background:linear-gradient(135deg,#ff9aa2,#fecfef);color:#fff}
.btn.ghost{background:#ffeef2;color:#ff6b6b}

nav.top{border-top:2px solid #ffd6e0;border-bottom:2px solid #ffd6e0;background:#fff0f5}
.tabs{display:flex;gap:8px;overflow:auto;padding:8px 16px}
.tab{padding:10px 14px;border-radius:999px;font-weight:700;color:#ff6b6b;background:#fff;border:2px solid #ffd6e0;cursor:pointer;white-space:nowrap}
.tab.active{background:linear-gradient(135deg,#ff9aa2,#fecfef);color:#fff;border:none}

.grid{display:grid;gap:16px}
.grid.cards{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}
.card{background:#fff;border:2px solid #ffd6e0;border-radius:24px;padding:16px;box-shadow:0 8px 16px rgba(0,0,0,.1);transition:.2s}
.card:hover{transform:scale(1.02)}

.title{font-size:22px;font-weight:800;margin:0 0 8px;color:#ff6b6b}
.subtitle{color:var(--muted);margin:0 0 12px}

.pillbar .pill{padding:8px 12px;border-radius:999px;border:2px solid #ffd6e0;background:#ffeef2;color:#ff6b6b;font-weight:600}

.lesson-text{background:#fff8fb;border:2px solid #ffd6e0;border-radius:18px;padding:14px;line-height:1.6;color:#333}

/* –û–π—ã–Ω —Ç–∞“õ—Ç–∞–ª–∞—Ä—ã –±–∞–ª–∞–ª–∞—Ä“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Å—Ç–∏–ª—å */
.ws-board{display:grid;gap:4px;grid-template-columns:repeat(12,1fr);user-select:none}
.ws-cell{border:2px solid #ffd6e0;border-radius:10px;padding:8px;text-align:center;background:#fff;color:#ff6b6b;font-weight:700;cursor:pointer}
.ws-cell.sel{background:#fecfef;border-color:#ff9aa2}

.dd-wrap{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.dd-item,.dd-slot{padding:12px;border-radius:14px;border:2px dashed #ffb6c1;background:#fff0f5;color:#ff6b6b;font-weight:600;text-align:center}
.dd-item{cursor:grab}
.dd-slot.filled{border-style:solid;background:#ffeef2}

footer{text-align:center;margin:40px 0 80px;color:#999;font-size:14px}

  </style>
</head>
<body>
  <header>
    <div class="h-row wrap">
      <div class="logo">
        <span>LL</span>
        <div>
          <div>LearnLanguage</div>
          <div class="badge">Two languages ‚Äî endless horizons ¬∑ –ï–∫—ñ —Ç—ñ–ª ‚Äî —à–µ–∫—Å—ñ–∑ –∫”©–∫–∂–∏–µ–∫</div>
        </div>
      </div>
      <div class="lang">
        <button id="lang-kz" class="btn">“ö–∞–∑–∞“õ—à–∞</button>
        <button id="lang-en" class="btn">English</button>
        <button id="btn-cabinet" class="btn primary">üë§ <span data-i="cabinet">–ö–∞–±–∏–Ω–µ—Ç</span></button>
      </div>
    </div>
    <nav class="top">
      <div class="tabs wrap">
        <button class="tab active" data-tab="home">üè† <span data-i="home">“ö–æ—à –∫–µ–ª–¥—ñ“£—ñ–∑</span></button>
        <button class="tab" data-tab="lessons">üìö <span data-i="lessons">–°–∞–±–∞“õ—Ç–∞—Ä</span></button>
        <button class="tab" data-tab="games">üéÆ <span data-i="games">–û–π—ã–Ω–¥–∞—Ä</span></button>
        <button class="tab" data-tab="tests">üìù <span data-i="tests">–¢–µ—Å—Ç—Ç–µ—Ä</span></button>
      </div>
    </nav>
  </header>

  <main class="wrap" id="app">
    <!-- Views will be injected by JS -->
  </main>
  <footer>
    ¬© <span id="year"></span> LL LearnLanguage ¬∑ made with üíñ for school kids</a>
  </footer>

  <div id="toast" class="toast hide"></div>

<script>
/******** I18N ********/
const I = {
  kz: {
    cabinet:"–ö–∞–±–∏–Ω–µ—Ç", home:"“ö–æ—à –∫–µ–ª–¥—ñ“£—ñ–∑", lessons:"–°–∞–±–∞“õ—Ç–∞—Ä", games:"–û–π—ã–Ω–¥–∞—Ä", tests:"–¢–µ—Å—Ç—Ç–µ—Ä",
    hello:"LL LearnLanguage ‚Äî –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Å—ã–Ω–∞ “õ–æ—à –∫–µ–ª–¥—ñ“£—ñ–∑!", sub:"–û“õ—ã, –æ–π–Ω–∞, —Ç–µ—Å—Ç —Ç–∞–ø—Å—ã—Ä—ã–ø ‚Äî —Ä–µ–π—Ç–∏–Ω–≥ –∂–∏–Ω–∞! –ë“±–ª —Å–∞–π—Ç—Ç–∞ —Å–µ–Ω –æ–π–Ω–∞–ø, “õ—ã–∑—ã“õ—Ç–∞–ø, “Ø–π—Ä–µ–Ω–µ—Å—ñ“£! ”ò—Ä —Å–∞–±–∞“õ—Ç–∞ ‚Äì –∂–∞“£–∞ –±—ñ–ª—ñ–º, ”ô—Ä –æ–π—ã–Ω–¥–∞ ‚Äì –∫”©“£—ñ–ª–¥—ñ —Ç–∞–ø—Å—ã—Ä–º–∞, ”ô—Ä —Ç–µ—Å—Ç—Ç–µ ‚Äì –±–∞—Ç—ã–ª–¥—ã“õ“õ–∞ —Å—ã–Ω–∞“õ! üöÄ",
    start:"–°–∞–±–∞“õ“õ–∞ ”©—Ç—É", retake:"“ö–∞–π—Ç–∞ —Ç–∞–ø—Å—ã—Ä—É", submit:"–ñ—ñ–±–µ—Ä—É", yourScore:"–ë–∞–ª—ã“£—ã–∑", correct:"–î“±—Ä—ã—Å –∂–∞—É–∞–ø—Ç–∞—Ä",
    yourAns:"–°—ñ–∑–¥—ñ“£ –∂–∞—É–∞–ø—Ç–∞—Ä—ã“£—ã–∑", recent:"–°–æ“£“ì—ã –Ω”ô—Ç–∏–∂–µ–ª–µ—Ä", rating:"–ñ–∞–ª–ø—ã —Ä–µ–π—Ç–∏–Ω–≥", empty:"”ò–∑—ñ—Ä–≥–µ –Ω”ô—Ç–∏–∂–µ –∂–æ“õ.",
    register:"–û“õ—É—à—ã —Ç—ñ—Ä–∫–µ—É—ñ", fio:"–¢–µ–≥—ñ, –ê—Ç—ã", grade:"–°—ã–Ω—ã–±—ã", email:"–≠–ª–µ–∫—Ç—Ä–æ–Ω–¥—ã –ø–æ—à—Ç–∞", save:"–°–∞“õ—Ç–∞—É", updPhoto:"–°—É—Ä–µ—Ç—Ç—ñ ”©–∑–≥–µ—Ä—Ç—É",
    logout:"–®—ã“ì—É", profile:"–ñ–µ–∫–µ –∫–∞–±–∏–Ω–µ—Ç", results:"–ù”ô—Ç–∏–∂–µ–ª–µ—Ä", edit:"”®“£–¥–µ—É", lessonsHubTitle:"–°–∞–±–∞“õ—Ç–∞—Ä –±”©–ª—ñ–º—ñ",
    l1:"–ê“ì—ã–ª—à—ã–Ω: –ê—Ä—Ç–∏–∫–ª—å–¥–µ—Ä", l2:"–ê“ì—ã–ª—à—ã–Ω: To be (I / You / They)", l3:"–ê“ì—ã–ª—à—ã–Ω: –°–∞–Ω–¥–∞—Ä", l4:"“ö–∞–∑–∞“õ: –ö”©“£—ñ–ª-–∫“Ø–π", l5: "“ö–∞–∑–∞“õ: “Æ–π–¥–µ", l6: "–ê“ì—ã–ª—à—ã–Ω: –ñ–∞–Ω—É–∞—Ä–ª–∞—Ä", l7: "–ê“ì—ã–ª—à—ã–Ω: –ñ“±–º—ã—Å—Ç–∞", l8: "–ê“ì—ã–ª—à—ã–Ω: –ö–∏—ñ–º–¥–µ—Ä", l9: "“ö–∞–∑–∞“õ: –ñ–µ–º—ñ—Å—Ç–µ—Ä",
    go:"–ö—ñ—Ä—É", back:"–ê—Ä—Ç“õ–∞", readAll:"–ú”ô—Ç—ñ–Ω–¥–µ—Ä–¥—ñ –æ“õ—ã–ø —à—ã“ì—ã–ø, —Ç–µ—Å—Ç–∫–µ ”©—Ç—ñ“£—ñ–∑", test:"–¢–µ—Å—Ç", showAnswers:"–ñ–∞—É–∞–ø—Ç–∞—Ä–¥—ã –∫”©—Ä—Å–µ—Ç—É",
    gamesHubTitle:"–û–π—ã–Ω–¥–∞—Ä –±”©–ª—ñ–º—ñ", g1:"Drag & Drop —Å”ô–π–∫–µ—Å—Ç–µ–Ω–¥—ñ—Ä—É", g2:"–°”©–∑ —Ç–∞–±—É (Word Search)", g3: "–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ (Quiz Challenge)", g4: "–§–ª—ç—à–∫–∞—Ä—Ç–∞–ª–∞—Ä (Flashcards)", g5: "–°”©–π–ª–µ–º “õ“±—Ä–∞—Å—Ç—ã—Ä—É (Sentence Builder)", g6: "–®—ã–Ω –Ω–µ–º–µ—Å–µ –ñ–∞–ª“ì–∞–Ω (True/False)",
    testsHubTitle:"–ñ–∞–ª–ø—ã —Ç–µ—Å—Ç—Ç–µ—Ä", t1:"–ê“ì—ã–ª—à—ã–Ω —Ç—ñ–ª—ñ–Ω–µ–Ω 20 —Å“±—Ä–∞“õ", t2:"“ö–∞–∑–∞“õ —Ç—ñ–ª—ñ–Ω–µ–Ω 20 —Å“±—Ä–∞“õ",
    scoreSaved:"–ù”ô—Ç–∏–∂–µ —Å–∞“õ—Ç–∞–ª–¥—ã!", cleared:"–ú”ô–ª—ñ–º–µ—Ç—Ç–µ—Ä —Ç–∞–∑–∞—Ä—Ç—ã–ª–¥—ã", pickImg:"–°—É—Ä–µ—Ç—Ç—ñ —Ç–∞“£–¥–∞“£—ã–∑",
  },
  en: {
    cabinet:"Cabinet", home:"Welcome", lessons:"Lessons", games:"Games", tests:"Tests",
    hello:"Welcome to LL LearnLanguage!", sub:"Learn, play, test ‚Äî keep leveling up! On this site you will play, have fun, learn. In every lesson - new knowledge, in every game - a fun task, in every test - a test of courage! üöÄ",
    start:"Start lesson", retake:"Retake", submit:"Submit", yourScore:"Your Score", correct:"Correct answers",
    yourAns:"Your answers", recent:"Recent results", rating:"Total rating", empty:"No results yet.",
    register:"Student Registration", fio:"Full name", grade:"Class", email:"Email", save:"Save", updPhoto:"Change photo",
    logout:"Logout", profile:"Profile", results:"Results", edit:"Edit", lessonsHubTitle:"Lessons hub",
    l1:"English: Articles", l2:"English: To be (I / You / They)", l3:"English: Numbers", l4:"Kazakh: Mood", l5: "Kazakh: In home", l6: "English: Animals", l7: "English: In work", l8: "English: Clothes", l9: "Kazakh: Fruits",
    go:"Enter", back:"Back", readAll:"Read all texts, then take the quiz", test:"Quiz", showAnswers:"Show answers",
    gamesHubTitle:"Games hub", g1:"Drag & Drop matching", g2:"Word Search", g3: "Quiz Challenge", g4: "Flashcards", g5: "Sentence Builder", g6: "True or False",
    testsHubTitle:"Master tests", t1:"20 Qs English", t2:"20 Qs Kazakh",
    scoreSaved:"Score saved!", cleared:"Data cleared", pickImg:"Choose an image",
  }
};

/******** State & Storage ********/
const LS = {
  user: 'll_user_v1',
  lang: 'll_lang_v1',
  results: 'll_results_v1'
};
function sget(k, d){ try{ const v=localStorage.getItem(k); return v?JSON.parse(v):d; }catch(e){ return d; } }
function sput(k, v){ try{ localStorage.setItem(k, JSON.stringify(v)); }catch(e){} }

let state = {
  lang: sget(LS.lang,'kz'),
  user: sget(LS.user,null),
  results: sget(LS.results,[]) // {type:"lesson/game/test", id, title, score, total, ts}
};

function toast(msg){ const el=document.getElementById('toast'); el.textContent=msg; el.classList.remove('hide'); setTimeout(()=>el.classList.add('hide'),1600); }
function t(key){ return I[state.lang][key]||key; }

/******** Routing ********/
const app = document.getElementById('app');
const routes = {
  home: renderHome,
  lessons: renderLessons,
  games: renderGames,
  tests: renderTests,
  cabinet: renderCabinet,
  lessonView: renderLessonView,
  gameDD: renderGameDD,
  gameWS: renderGameWS,
  gameQuiz: renderGameQuiz,    // Quiz Challenge
  gameFlash: renderGameFlash,  // Flashcards
  gameSentence: renderGameSentence, // Sentence Builder
  gameTF: renderGameTF, 
  testEN: renderTestEN,
  testKZ: renderTestKZ,
};
function go(hash){ location.hash = hash; }
window.addEventListener('hashchange', ()=>mount());

function mount(){
  const h = location.hash.replace('#','')||'home';
  const [name, param] = h.split(':');
  const view = routes[name]||renderHome;
  document.querySelectorAll('.tab').forEach(b=>b.classList.toggle('active', b.dataset.tab===name));
  app.innerHTML = '';
  view(param);
  updateTexts();
}

/******** Header Lang & Cabinet ********/
function updateTexts(){
  document.querySelector('[data-i="cabinet"]').textContent = t('cabinet');
  document.querySelector('[data-i="home"]').textContent = t('home');
  document.querySelector('[data-i="lessons"]').textContent = t('lessons');
  document.querySelector('[data-i="games"]').textContent = t('games');
  document.querySelector('[data-i="tests"]').textContent = t('tests');
}

document.getElementById('lang-kz').onclick = ()=>{ state.lang='kz'; sput(LS.lang,state.lang); mount(); };

document.getElementById('lang-en').onclick = ()=>{ state.lang='en'; sput(LS.lang,state.lang); mount(); };

document.getElementById('btn-cabinet').onclick = ()=>{ go('cabinet'); };

/******** Components ********/
function el(html){ const d=document.createElement('div'); d.innerHTML=html.trim(); return d.firstChild; }
function card(title, subtitle, bodyHtml, actionsHtml=''){
  const c = el(`<div class="card"><h3 class="title"></h3><p class="subtitle"></p><div class="body"></div><div class="row mt12">${actionsHtml}</div></div>`);
  c.querySelector('.title').textContent = title;
  c.querySelector('.subtitle').textContent = subtitle||'';
  c.querySelector('.body').innerHTML = bodyHtml||'';
  return c;
}

function resultRow(r){
  const d = new Date(r.ts);
  const when = d.toLocaleString();
  return `<div class="pill">${r.title} ‚Äî ${r.score}/${r.total} ‚Ä¢ ${when}</div>`;
}

function addResult(rec){
  state.results.unshift({...rec, ts: Date.now()});
  sput(LS.results,state.results);
  showRatingBadge();
  toast(t('scoreSaved'));
}

function showRatingBadge(){
  const total = state.results.reduce((a,b)=>a + (b.score||0),0);
  const homeTab = document.querySelector('[data-tab="home"]');
  if(!homeTab) return;
  let badge = homeTab.querySelector('i');
  if(!badge){ badge = document.createElement('i'); badge.className='pill'; badge.style.marginLeft='8px'; homeTab.appendChild(badge); }
  badge.textContent = `${t('rating')}: ${total}`;
}

/******** Home ********/
function renderHome(){
  const g = document.createElement('div');
  g.className='grid';
  const kpis = `
    <div class="kpi">
       <img src="https://user63758.clients-cdnnow.ru/storage/22243/58872/a699b015209417409d73f08ce8bf6a8a13dd9d27.png" alt="Fun learning" style="width:100%;border-radius:12px;margin-bottom:12px">
      </div>`;
  g.appendChild(card(t('hello'), t('sub'), kpis));

  // üî¥ –†–µ–∑—É–ª—å—Ç–∞—Ç –∫”©—Ä—Å–µ—Ç—ñ–ª–º–µ–π–¥—ñ, —Ç–µ–∫ –±–æ—Å —Å”ô–ª–µ–º–¥–µ—Å—É –±”©–ª—ñ–º—ñ
  app.appendChild(g);
  showRatingBadge();
}


/******** Lessons Hub ********/
function renderLessons(){
  const grid = el('<div class="grid cards"></div>');
  const list = [
  {id:'l1', title:t('l1'), desc:'Articles a,an,the + 10 quiz', go:'lessonView:l1'},
  {id:'l2', title:t('l2'), desc:'–ê“ì—ã–ª—à—ã–Ω: To be (I / You / They) + 10 quiz', go:'lessonView:l2'},
  {id:'l3', title:t('l3'), desc:'Numbers 1234 + 10 quiz', go:'lessonView:l3'},
  {id:'l4', title:t('l4'), desc:'–ö”©“£—ñ–ª –∫“Ø–π –∞—Ç–∞—É–ª–∞—Ä—ã + 10 —Å“±—Ä–∞“õ', go:'lessonView:l4'},
  {id:'l5', title:t('l5'), desc:'“Æ–π–¥–µ “õ–æ–ª–¥–∞–Ω–∞—Ç—ã–Ω —Å”©–∑–¥–µ—Ä + 10 —Å“±—Ä–∞“õ', go:'lessonView:l5'},
  {id:'l6', title:t('l6'), desc:'Animal name + 10 quiz', go:'lessonView:l6'},
  {id:'l7', title:t('l7'), desc:'Types of workers + 10 quiz', go:'lessonView:l7'},
  {id:'l8', title:t('l8'), desc:'Names and types of clothing + 10 quiz', go:'lessonView:l8'},
  {id:'l9', title:t('l9'), desc:'–ñ–µ–º—ñ—Å-–∂–∏–¥–µ–∫—Ç–µ—Ä + 10 —Å“±—Ä–∞“õ', go:'lessonView:l9'},
];

  list.forEach(x=>{
    const c = card(x.title, x.desc, '', `<button class="btn primary" onclick="go('${x.go}')">${t('start')}</button>`);
    grid.appendChild(c);
  });
  app.appendChild(grid);
}

/******** Lessons Data ********/
/******** Lessons Data ********/
const LESSONS = {
  l1: { // Articles
    title: {kz:'–ê“ì—ã–ª—à—ã–Ω: –ê—Ä—Ç–∏–∫–ª—å–¥–µ—Ä', en:'English: Articles'},
    texts: [
`In English, we use articles before nouns. There are two types of articles: definite (the) and indefinite (a, an).  
Indefinite articles (a, an) are used when we talk about something for the first time, or when it is not specific. Example: "I saw a cat." This means any cat, not a special one.  
We use "a" before words starting with consonant sounds: a dog, a house, a teacher.  
We use "an" before words starting with vowel sounds (a, e, i, o, u): an apple, an orange, an hour (because 'h' is silent).`,

`Definite article "the" is used when we talk about something specific or unique.  
Example: "The sun is hot." There is only one sun.  
Another example: "I bought a book. The book is interesting." The first time we say "a book", but later we say "the book" because it is now clear which book.  
We also use "the" with oceans, rivers, mountains, and superlatives: the Pacific Ocean, the Nile, the best student.`,

`Sometimes we do not use any article. This happens with plural nouns and uncountable nouns when we talk in general.  
Example: "I like cats." (all cats in general, no article).  
Example: "Water is important for life." (uncountable noun, no article).  
Remember: we do not say "the water" unless we talk about specific water: "The water in this bottle is cold."`,

`In short:  
- Use "a" before consonant sounds (a dog, a pen).  
- Use "an" before vowel sounds (an egg, an umbrella).  
- Use "the" for something specific or unique (the sun, the Moon, the teacher in our class).  
- Use no article for general ideas or uncountable nouns (milk, love, cats).  
Articles are small words, but they are very important for correct English!`
    ],
    glossary: [
      ['a','–∞—Ä—Ç–∏–∫–ª—å, –¥–∞—É—ã—Å—Å—ã–∑–¥–∞–Ω –±“±—Ä—ã–Ω'],
      ['an','–∞—Ä—Ç–∏–∫–ª—å, –¥–∞—É—ã—Å—Ç—ã–¥–∞–Ω –±“±—Ä—ã–Ω'],
      ['the','–±–µ–ª–≥—ñ–ª—ñ –∞—Ä—Ç–∏–∫–ª—å'],
      ['no article','–∞—Ä—Ç–∏–∫–ª—å—Å—ñ–∑'],
      ['noun','–∑–∞—Ç –µ—Å—ñ–º'],
      ['specific','–Ω–∞“õ—Ç—ã'],
      ['general','–∂–∞–ª–ø—ã'],
      ['unique','–±—ñ—Ä–µ–≥–µ–π'],
      ['vowel','–¥–∞—É—ã—Å—Ç—ã'],
      ['consonant','–¥–∞—É—ã—Å—Å—ã–∑']
    ],
    quiz: [
      {q:'Which article is used before "apple"?', a:1, opts:['a','an','the','no article']},
      {q:'Which article goes before "dog"?', a:0, opts:['a','an','the','no article']},
      {q:'Which article is used for unique things like "sun"?', a:2, opts:['a','an','the','no article']},
      {q:'Which article is missing: "___ book on the table is mine."', a:2, opts:['a','an','the','no article']},
      {q:'Which article is correct: "I want ___ orange."', a:1, opts:['a','an','the','no article']},
      {q:'Choose the correct: "He is ___ best player."', a:2, opts:['a','an','the','no article']},
      {q:'Which article: "She is reading ___ interesting story."', a:1, opts:['a','an','the','no article']},
      {q:'Which article: "I bought ___ car yesterday."', a:0, opts:['a','an','the','no article']},
      {q:'Fill the blank: "___ Moon looks bright tonight."', a:2, opts:['a','an','the','no article']},
      {q:'Correct choice: "He likes to drink ___ water."', a:3, opts:['a','an','the','no article']}
    ]
  },
  l2: { // English To Be (I / You / They)
  title: {kz:'–ê“ì—ã–ª—à—ã–Ω: To be (I / You / They)', en:'English: To be (I / You / They)'},
  texts: [
    `–ê“ì—ã–ª—à—ã–Ω —Ç—ñ–ª—ñ–Ω–¥–µ "to be" –µ—Ç—ñ—Å—Ç—ñ–≥—ñ –±–∞—Ä. –û–ª “õ–∞–∑–∞“õ—à–∞–¥–∞ "–±–æ–ª—É" –¥–µ–≥–µ–Ω –º–∞“ì—ã–Ω–∞ –±–µ—Ä–µ–¥—ñ. 
    "To be" –µ—Ç—ñ—Å—Ç—ñ–≥—ñ –∞–¥–∞–º“ì–∞ –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã ”©–∑–≥–µ—Ä–µ–¥—ñ:`,
    `I ‚Üí am  
     You ‚Üí are  
     They ‚Üí are`,
    `–ú—ã—Å–∞–ª–¥–∞—Ä:  
     - I am a student. (–ú–µ–Ω –æ“õ—É—à—ã–º—ã–Ω)  
     - You are my friend. (–°–µ–Ω –º–µ–Ω—ñ“£ –¥–æ—Å—ã–º—Å—ã“£)  
     - They are happy. (–û–ª–∞—Ä –±–∞“õ—ã—Ç—Ç—ã)`,
    `–ï—Å—Ç–µ —Å–∞“õ—Ç–∞:  
     "I" ”ô—Ä“õ–∞—à–∞–Ω "am"-–º–µ–Ω,  
     "You" ”ô—Ä“õ–∞—à–∞–Ω "are"-–º–µ–Ω,  
     "They" ”ô—Ä“õ–∞—à–∞–Ω "are"-–º–µ–Ω –±—ñ—Ä–≥–µ “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã.`
  ],
  glossary: [
    ['I am','–ú–µ–Ω ...–º—ã–Ω'],
    ['You are','–°–µ–Ω ...—Å—ã“£'],
    ['They are','–û–ª–∞—Ä ...'],
    ['student','–æ“õ—É—à—ã'],
    ['friend','–¥–æ—Å'],
    ['happy','–±–∞“õ—ã—Ç—Ç—ã']
  ],
  quiz: [
    {q:'I ___ a student.', a:0, opts:['am','is','are']},
    {q:'You ___ my friend.', a:2, opts:['am','is','are']},
    {q:'They ___ happy.', a:2, opts:['am','is','are']},
    {q:'I ___ from Almaty.', a:0, opts:['am','is','are']},
    {q:'You ___ kind.', a:2, opts:['am','is','are']},
    {q:'They ___ students.', a:2, opts:['am','is','are']},
    {q:'I ___ seven years old.', a:0, opts:['am','is','are']},
    {q:'You ___ in the classroom.', a:2, opts:['am','is','are']},
    {q:'They ___ my classmates.', a:2, opts:['am','is','are']},
    {q:'I ___ at school now.', a:0, opts:['am','is','are']}
  ]
},
l3: { // English Numbers for Beginners
  title: {kz:'–ê“ì—ã–ª—à—ã–Ω: –°–∞–Ω–¥–∞—Ä', en:'English: Numbers'},
  texts: [
    `Hello! Today we will learn numbers in English. Numbers help us count things around us. Let's start from 1 to 10. Repeat after me: One, Two, Three, Four, Five, Six, Seven, Eight, Nine, Ten.`,
    `We use numbers every day: counting toys, apples, books, or even friends. When you see a number, try to say it in English. Practice makes you better!`,
    `Games are fun ways to remember numbers. You can count objects in your room and say their names in English.`
  ],
  glossary: [
    ['one','–±—ñ—Ä'], ['two','–µ–∫—ñ'], ['three','“Ø—à'], ['four','—Ç”©—Ä—Ç'], ['five','–±–µ—Å'],
    ['six','–∞–ª—Ç—ã'], ['seven','–∂–µ—Ç—ñ'], ['eight','—Å–µ–≥—ñ–∑'], ['nine','—Ç–æ“ì—ã–∑'], ['ten','–æ–Ω'],
    ['count','—Å–∞–Ω–∞–ø —à—ã“ì—É'], ['number','—Å–∞–Ω']
  ],
  quiz: [
    {q:'Number 1 in English is‚Ä¶', a:0, opts:['One','Two','Three','Four']},
    {q:'Number 2 in English is‚Ä¶', a:1, opts:['Three','Two','One','Five']},
    {q:'Number 3 in English is‚Ä¶', a:1, opts:['Two','Three','Four','One']},
    {q:'How do you say 4 in English?', a:0, opts:['Four','Five','Three','Two']},
    {q:'Number 5 in English is‚Ä¶', a:0, opts:['Five','Four','Six','Seven']},
    {q:'Which is 6?', a:0, opts:['Six','Seven','Eight','Five']},
    {q:'Number 7 in English is‚Ä¶', a:1, opts:['Eight','Seven','Six','Nine']},
    {q:'8 in English is‚Ä¶', a:0, opts:['Eight','Seven','Nine','Six']},
    {q:'9 in English is‚Ä¶', a:0, opts:['Nine','Eight','Ten','Seven']},
    {q:'Number 10 in English is‚Ä¶', a:1, opts:['Nine','Ten','Eleven','Eight']}
  ]
},
l4: { // Kazakh Mood for Kids
  title: {kz:'“ö–∞–∑–∞“õ: –ö”©“£—ñ–ª-–∫“Ø–π', en:'Kazakh: Mood'},
  texts: [
    `–°”ô–ª–µ–º! –ú–µ–Ω—ñ“£ –∞—Ç—ã–º ‚Äî –ê–π—à–∞. –ë“Ø–≥—ñ–Ω –±—ñ–∑ –∫”©“£—ñ–ª-–∫“Ø–π–¥—ñ “Ø–π—Ä–µ–Ω–µ–º—ñ–∑. “ö—É–∞–Ω—ã—à—Ç—ã, —Ä–µ–Ω—ñ—à—Ç—ñ, “õ–æ—Ä“õ–∞“õ –Ω–µ–º–µ—Å–µ “±—è–ª—à–∞“õ —Å–µ–∑—ñ–º–¥–µ—Ä–¥—ñ “õ–∞–ª–∞–π –∞–π—Ç—É“ì–∞ –±–æ–ª–∞—Ç—ã–Ω—ã–Ω –±—ñ–ª–µ—Å—ñ“£ –±–µ?`,
    `“ö—É–∞–Ω—ã—à—Ç—ã –±–æ–ª“ì–∞–Ω–¥–∞: "–ú–µ–Ω ”©—Ç–µ “õ—É–∞–Ω—ã—à—Ç—ã–º—ã–Ω!", "–ú–µ–Ω –±–∞“õ—ã—Ç—Ç—ã–º—ã–Ω!" –¥–µ–ø –∞–π—Ç–∞–º—ã–∑. –†–µ–Ω—ñ—à—Ç—ñ –±–æ–ª—Å–∞: "–ú–µ–Ω —Ä–µ–Ω–∂—ñ–ø —Ç“±—Ä–º—ã–Ω", "–ö”©“£—ñ–ª—Å—ñ–∑–º—ñ–Ω" –¥–µ–π–º—ñ–∑.`,
    `“ö–æ—Ä“õ–∞“õ –Ω–µ–º–µ—Å–µ “±—è–ª—à–∞“õ –±–æ–ª“ì–∞–Ω –∫–µ–∑–¥–µ: "–ú–µ–Ω “õ–æ—Ä“õ—ã–ø —Ç“±—Ä–º—ã–Ω", "–ú–µ–Ω “±—è–ª—à–∞“õ–ø—ã–Ω" –¥–µ–ø –∞–π—Ç–∞–º—ã–∑. –ï–Ω–¥—ñ —Å–µ–∑—ñ–º–¥–µ—Ä—ñ–º—ñ–∑–¥—ñ —Å”©–∑–±–µ–Ω –±—ñ–ª–¥—ñ—Ä—É–¥—ñ “Ø–π—Ä–µ–Ω–µ–π—ñ–∫.`
  ],
  glossary: [
    ['–∫”©“£—ñ–ª-–∫“Ø–π','mood'],
    ['“õ—É–∞–Ω—ã—à—Ç—ã','happy'],
    ['—Ä–µ–Ω—ñ—à—Ç—ñ','sad'],
    ['“õ–æ—Ä“õ–∞“õ','scared'],
    ['“±—è–ª—à–∞“õ','shy'],
    ['–±–∞“õ—ã—Ç—Ç—ã','joyful'],
    ['–∫“Ø–ª–∫—ñ–ª—ñ','funny'],
    ['—Å–µ–∑—ñ–º','feeling'],
    ['—Å”©–π–ª–µ—Å—É','speaking'],
    ['–∞–π—Ç—É','say']
  ],
  quiz: [
    {q:'–°”ô–ª–µ–º–¥–µ—Å–∫–µ–Ω–¥–µ “õ–∞–ª–∞–π –∞–π—Ç—É“ì–∞ –±–æ–ª–∞–¥—ã?', a:0, opts:['“ö–∞–ª-–∂–∞“ì–¥–∞–π—ã“£ “õ–∞–ª–∞–π?','–ú–µ–Ω—ñ“£ –∞—Ç—ã–º –ê–π—à–∞','–†–∞—Ö–º–µ—Ç','–ö”©—Ä—ñ—Å–∫–µ–Ω—à–µ']},
    {q:'“ö–∞–Ω–¥–∞–π —Å”©–∑ “õ—É–∞–Ω—ã—à—Ç—ã –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ?', a:0, opts:['“ö—É–∞–Ω—ã—à','–ú–µ–∫—Ç–µ–ø','–ö—ñ—Ç–∞–ø','–°–∞–±–∞“õ']},
    {q:'–°”©–∑ ¬´–∫”©“£—ñ–ª-–∫“Ø–π¬ª –∞“ì—ã–ª—à—ã–Ω—à–∞?', a:0, opts:['Mood','Book','Teacher','Play']},
    {q:'“ö–∞–π —Å”©–π–ª–µ–º “õ—É–∞–Ω—ã—à—Ç—ã –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ?', a:0, opts:['–ú–µ–Ω ”©—Ç–µ “õ—É–∞–Ω—ã—à—Ç—ã–º—ã–Ω!','–ú–µ–Ω —Å–∞–±–∞“õ“õ–∞ –±–∞—Ä–¥—ã–º','–ú–µ–Ω –∫—ñ—Ç–∞–ø –æ“õ–∏–º—ã–Ω','–ú–µ–Ω “Ø–π–≥–µ –∫–µ–ª–¥—ñ–º']},
    {q:'“ö–∞–π—Å—ã —Å”©–∑ —Ä–µ–Ω—ñ—à—Ç—ñ –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ?', a:0, opts:['–ö”©“£—ñ–ª—Å—ñ–∑','–î–æ—Å','–°–∞–±–∞“õ','–û–π—ã–Ω—à—ã“õ']},
    {q:'¬´–ú–µ–Ω –±–∞“õ—ã—Ç—Ç—ã–º—ã–Ω¬ª “õ–∞–π –∫”©“£—ñ–ª-–∫“Ø–π?', a:0, opts:['“ö—É–∞–Ω—ã—à—Ç—ã','“ö–∞–ª–∂—ã“£','–°—ã–Ω–∏','“∞—è–ª—à–∞“õ']},
    {q:'“ö–∞–π—Å—ã —ç–º–æ—Ü–∏—è –¥“±—Ä—ã—Å –µ–º–µ—Å?', a:2, opts:['“ö—É–∞–Ω—ã—à','–ö”©“£—ñ–ª—Å—ñ–∑','–°–∞“ì–∞—Ç','–†–µ–Ω—ñ—à']},
    {q:'–°”©–π–ª–µ–º ¬´–ú–µ–Ω —Ä–µ–Ω–∂—ñ–ø —Ç“±—Ä–º—ã–Ω¬ª “õ–∞–Ω–¥–∞–π –∫”©“£—ñ–ª-–∫“Ø–π–¥—ñ –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ?', a:0, opts:['–†–µ–Ω—ñ—à—Ç—ñ','“ö—É–∞–Ω—ã—à—Ç—ã','“ö–∞–ª–∂—ã“£','–°–∞–±–∞“õ“õ–∞']},
    {q:'¬´“ö–∞–ª–∂—ã“£¬ª —Å”©–∑—ñ “õ–∞–Ω–¥–∞–π –∫”©“£—ñ–ª-–∫“Ø–π?', a:0, opts:['–ö“Ø–ª–∫—ñ–ª—ñ','–†–µ–Ω—ñ—à','“ö–∞–ª–∂—ã“£','–ë–∞“õ—ã—Ç']},
    {q:'–ö—ñ—à–∫–µ–Ω—Ç–∞–π–ª–∞—Ä“ì–∞ –∫”©“£—ñ–ª –∫“Ø–π–¥—ñ “Ø–π—Ä–µ—Ç—É–¥—ñ“£ –º–∞“õ—Å–∞—Ç—ã?', a:0, opts:['–°–µ–∑—ñ–º–¥–µ—Ä—ñ–Ω –∞–π—Ç—É','–°–∞–Ω–¥–∞—Ä–¥—ã —Å–∞–Ω–∞—É','–ö—ñ—Ç–∞–ø –æ“õ—É','–¢–∞“£“ì—ã –∞—Å']}
  ]
},
  // 5-“õ–∞–∑–∞“õ –æ“õ—É —Å–∞—É–∞—Ç—Ç—ã–ª—ã“ì—ã
  l5: { 
  title: {kz:'“ö–∞–∑–∞“õ: “Æ–π–¥–µ', en:'Kazakh: In home'},
  texts: [
    `–ë“±–ª “Ø–π–¥–µ –±—ñ–∑ ”ô—Ä—Ç“Ø—Ä–ª—ñ –∑–∞—Ç—Ç–∞—Ä–º–µ–Ω —Ç–∞–Ω—ã—Å–∞–º—ã–∑. –ú—ã—Å–∞–ª—ã: “Ø—Å—Ç–µ–ª, –æ—Ä—ã–Ω–¥—ã“õ, —Ç”©—Å–µ–∫, –∫—ñ—Ç–∞–ø, –æ–π—ã–Ω—à—ã“õ. “Æ–π–¥—ñ“£ ”ô—Ä –±”©–ª–º–µ—Å—ñ–Ω–¥–µ ”ô—Ä—Ç“Ø—Ä–ª—ñ –∑–∞—Ç—Ç–∞—Ä –±–∞—Ä. –ú—ã—Å–∞–ª—ã, –∞—Å –±”©–ª–º–µ–¥–µ “Ø—Å—Ç–µ–ª –º–µ–Ω –æ—Ä—ã–Ω–¥—ã“õ—Ç–∞—Ä, –∂–∞—Ç—ã–Ω –±”©–ª–º–µ–¥–µ —Ç”©—Å–µ–∫ –ø–µ–Ω –∂–∞—Å—Ç—ã“õ—Ç–∞—Ä. –û“õ—É –±”©–ª–º–µ—Å—ñ–Ω–¥–µ –∫—ñ—Ç–∞–ø—Ç–∞—Ä –º–µ–Ω –¥”ô–ø—Ç–µ—Ä–ª–µ—Ä –±–∞—Ä.`,

    `–ê–π—à–∞ ”ô—Ä –∑–∞—Ç—Ç—ã –∞—Ç–∞–ø, “õ–∞–π–¥–∞ “õ–æ–ª–¥–∞–Ω—ã–ª–∞—Ç—ã–Ω—ã–Ω –±—ñ–ª–µ–¥—ñ. “Æ–π–¥–µ –æ“õ—É, –æ–π–Ω–∞—É, –¥–µ–º–∞–ª—É “Ø—à—ñ–Ω –∑–∞—Ç—Ç–∞—Ä–¥—ã “õ–æ–ª–¥–∞–Ω–∞–º—ã–∑. –°–æ–Ω—ã–º–µ–Ω “õ–∞—Ç–∞—Ä, ”ô—Ä –∑–∞—Ç—Ç—ã“£ –∞—Ç–∞—É—ã–Ω –µ—Å—Ç–µ —Å–∞“õ—Ç–∞—É –∂”ô–Ω–µ –æ–Ω—ã –¥“±—Ä—ã—Å “õ–æ–ª–¥–∞–Ω—É –º–∞“£—ã–∑–¥—ã. –ê–π—à–∞ –æ–π—ã–Ω—à—ã“õ—Ç–∞—Ä–º–µ–Ω –æ–π–Ω–∞–ø, –∫—ñ—Ç–∞–ø—Ç–∞—Ä—ã–Ω –æ“õ—ã–ø, —Ç”©—Å–µ–∫–∫–µ –±–∞—Ä—ã–ø –¥–µ–º–∞–ª–∞–¥—ã. “Æ–π–¥–µ ”ô—Ä –∑–∞—Ç ”©–∑—ñ–Ω—ñ“£ –µ—Ä–µ–∫—à–µ —Ä”©–ª—ñ –±–∞—Ä.`
  ],
  glossary: [
    ['“Ø—Å—Ç–µ–ª','table'],['–æ—Ä—ã–Ω–¥—ã“õ','chair'],['—Ç”©—Å–µ–∫','bed'],['–∫—ñ—Ç–∞–ø','book'],['–æ–π—ã–Ω—à—ã“õ','toy'],
    ['“Ø–π','home'],['–±”©–ª–º–µ','room'],['–∞—Å –±”©–ª–º–µ','kitchen'],['–∂–∞—Ç—ã–Ω –±”©–ª–º–µ','bedroom'],
    ['–æ“õ—É','to read/study'],['–æ–π–Ω–∞—É','to play'],['–¥–µ–º–∞–ª—É','to rest'],['–∂–∞—Å—Ç—ã“õ','pillow'],['–¥”ô–ø—Ç–µ—Ä','notebook']
  ],
  quiz: [
    {q:'“Æ–π–¥–µ “õ–∞–Ω–¥–∞–π –±”©–ª–º–µ–ª–µ—Ä –±–∞—Ä –º”ô—Ç—ñ–Ω–¥–µ?', opts:['–ú–µ–∫—Ç–µ–ø, –ø–∞—Ä–∫','–ê—Å –±”©–ª–º–µ, –∂–∞—Ç—ã–Ω –±”©–ª–º–µ, –æ“õ—É –±”©–ª–º–µ','–°–∞—è–±–∞“õ, –¥“Ø–∫–µ–Ω'], a:1},
    {q:'–ê–π—à–∞ “õ–∞–π –∑–∞—Ç—Ç–∞—Ä–º–µ–Ω —Ç–∞–Ω—ã—Å–∞–¥—ã?', opts:['“Æ—Å—Ç–µ–ª, –æ—Ä—ã–Ω–¥—ã“õ, —Ç”©—Å–µ–∫, –∫—ñ—Ç–∞–ø, –æ–π—ã–Ω—à—ã“õ','–¢–µ–ª–µ—Ñ–æ–Ω, –º–∞—à–∏–Ω–∞','–î–∞–ª–∞, –∞“ì–∞—à'], a:0},
    {q:'¬´–¢”©—Å–µ–∫¬ª –Ω–µ “Ø—à—ñ–Ω “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã?', opts:['“∞–π—ã“õ—Ç–∞—É “Ø—à—ñ–Ω','–û“õ—ã—Ç—É “Ø—à—ñ–Ω','–û–π—ã–Ω –æ–π–Ω–∞—É “Ø—à—ñ–Ω'], a:0},
    {q:'–ö—ñ—Ç–∞–ø—Ç—ã –Ω–µ “Ø—à—ñ–Ω “õ–æ–ª–¥–∞–Ω–∞–º—ã–∑?', opts:['–û“õ—É “Ø—à—ñ–Ω','–¢–∞–º–∞“õ —ñ—à—É “Ø—à—ñ–Ω','“∞–π—ã“õ—Ç–∞—É “Ø—à—ñ–Ω'], a:0},
    {q:'–û–π—ã–Ω—à—ã“õ—Ç—ã“£ –º–∞“õ—Å–∞—Ç—ã?', opts:['–û–π–Ω–∞—É “Ø—à—ñ–Ω','–ñ“Ø–≥—ñ—Ä—É “Ø—à—ñ–Ω','“∞–π—ã“õ—Ç–∞—É “Ø—à—ñ–Ω'], a:0},
    {q:'“Æ—Å—Ç–µ–ª –Ω–µ “Ø—à—ñ–Ω “õ–∞–∂–µ—Ç?', opts:['–û“õ—É –Ω–µ–º–µ—Å–µ —Ç–∞–º–∞“õ —ñ—à—É “Ø—à—ñ–Ω','–ñ“Ø–≥—ñ—Ä—É “Ø—à—ñ–Ω','–°–∞—è—Ö–∞—Ç “Ø—à—ñ–Ω'], a:0},
    {q:'–ê–π—à–∞ “Ø–π–¥–µ –Ω–µ —ñ—Å—Ç–µ–π–¥—ñ?', opts:['–û“õ–∏–¥—ã, –æ–π–Ω–∞–π–¥—ã, –¥–µ–º–∞–ª–∞–¥—ã','–°–∞—è—Ö–∞—Ç“õ–∞ —à—ã“ì–∞–¥—ã','–î“Ø–∫–µ–Ω–≥–µ –±–∞—Ä–∞–¥—ã'], a:0},
    {q:'“ö–∞–π—Å—ã—Å—ã “Ø–π –∑–∞—Ç—Ç–∞—Ä—ã –µ–º–µ—Å?', opts:['“Æ—Å—Ç–µ–ª, –æ—Ä—ã–Ω–¥—ã“õ','–ö—ñ—Ç–∞–ø, –æ–π—ã–Ω—à—ã“õ','–ê–≤—Ç–æ–±—É—Å, —Å–∞—è–±–∞“õ'], a:2},
    {q:'¬´–ñ–∞—Å—Ç—ã“õ¬ª –Ω–µ “Ø—à—ñ–Ω “õ–∞–∂–µ—Ç?', opts:['–¢”©—Å–µ–∫—Ç–µ –±–∞—Å “Ø—à—ñ–Ω','–¢–∞–º–∞“õ —ñ—à—É “Ø—à—ñ–Ω','–û–π—ã–Ω –æ–π–Ω–∞—É “Ø—à—ñ–Ω'], a:0},
    {q:'¬´“Æ–π¬ª —Å”©–∑—ñ –Ω–µ–Ω—ñ –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ?', opts:['–û“õ—É –æ—Ä–Ω—ã','–¢“±—Ä“ì—ã–Ω –∂–µ—Ä','–°–∞—è–±–∞“õ'], a:1}
  ]
},


l6: { 
  title: {kz:'–ê“ì—ã–ª—à—ã–Ω: –ñ–∞–Ω—É–∞—Ä–ª–∞—Ä', en:'English: Animals'},
  texts: [
    `Animals live all around us. Some live in the forest, others in the water or at home as pets. Cats meow, dogs bark, birds sing, and fish swim. Learning animal names and sounds is fun!`,
    `Children can learn about animal habits, what they eat, and how they move. For example, rabbits hop, cats sleep, and dogs play with balls.`
  ],
  glossary: [
    ['cat','we say meow, a common pet'],['dog','barks, a friendly pet'],['bird','flies, sings'],['fish','swims in water'],['rabbit','hops, eats carrots'],
    ['forest','a place with many trees'],['pet','animal kept at home'],['habits','things animals usually do']
  ],
  quiz: [
    {q:'Which animal says "meow"?', opts:['Cat','Dog','Rabbit'], a:0},
    {q:'Which animal hops?', opts:['Dog','Rabbit','Fish'], a:1},
    {q:'Where do fish live?', opts:['Forest','Water','House'], a:1},
    {q:'What does a bird do?', opts:['Swims','Sings','Barks'], a:1},
    {q:'Which is a pet?', opts:['Lion','Dog','Tiger'], a:1},
    {q:'Which animal flies?', opts:['Cat','Bird','Rabbit'], a:1},
    {q:'What do rabbits eat?', opts:['Carrots','Fish','Bread'], a:0},
    {q:'Which animal is friendly?', opts:['Dog','Snake','Bear'], a:0},
    {q:'Animal in the forest?', opts:['Elephant','Fox','Shark'], a:1},
    {q:'Which swims in water?', opts:['Dog','Fish','Bird'], a:1}
  ]
},

l7: { 
  title: {kz:'–ê“ì—ã–ª—à—ã–Ω: –ñ“±–º—ã—Å—Ç–∞', en:'English: At Work'},
  texts: [
    `At work, people use many tools and do different tasks. Computers, desks, chairs, pens, and papers help them complete jobs.`,
    `Workers have roles: bosses give instructions, colleagues help each other, and assistants organize things. Learning office words helps children understand everyday life.`
  ],
  glossary: [
    ['computer','used for typing and learning'],['desk','a table for work'],['chair','sit on it'],['boss','gives instructions'],['colleague','works with you'],
    ['pen','write with it'],['paper','write or print on it'],['office','place where people work'],['task','a job to do']
  ],
  quiz: [
    {q:'Where do people type emails?', opts:['Computer','Chair','Car'], a:0},
    {q:'Who gives instructions?', opts:['Colleague','Boss','Student'], a:1},
    {q:'Where do we sit?', opts:['Desk','Chair','Book'], a:1},
    {q:'What do we write with?', opts:['Pen','Computer','Chair'], a:0},
    {q:'Where is the office?', opts:['At home','At work','In the park'], a:1},
    {q:'Who helps coworkers?', opts:['Boss','Colleague','Dog'], a:1},
    {q:'What is a task?', opts:['A game','A job to do','A pet'], a:1},
    {q:'What do we put on a desk?', opts:['Paper','Fish','Hat'], a:0},
    {q:'What helps organize tasks?', opts:['Assistant','Rabbit','Chair'], a:0},
    {q:'Where do people work?', opts:['School','Office','Zoo'], a:1}
  ]
},

l8: { 
  title: {kz:'–ê“ì—ã–ª—à—ã–Ω: –ö–∏—ñ–º–¥–µ—Ä', en:'English: Clothes'},
  texts: [
    `Clothes are what we wear every day. Shirts, pants, dresses, hats, shoes, and coats keep us comfortable and protect us from weather.`,
    `Children learn when to wear clothes: warm coats in winter, hats in sun, and shoes to walk outside. Choosing the right clothes is fun and important.`
  ],
  glossary: [
    ['shirt','worn on the upper body'],['pants','worn on the legs'],['dress','one-piece clothing for girls'],['hat','worn on the head'],['shoes','worn on feet'],
    ['coat','warm outer clothing'],['clothes','things we wear'],['weather','sun, rain, snow, wind'],['comfortable','feeling good to wear']
  ],
  quiz: [
    {q:'What do we wear on our feet?', opts:['Hat','Shoes','Shirt'], a:1},
    {q:'Which clothes keep us warm?', opts:['Coat','Dress','Shoes'], a:0},
    {q:'What do we wear on the head?', opts:['Pants','Hat','Shirt'], a:1},
    {q:'One-piece clothing for girls?', opts:['Dress','Pants','Coat'], a:0},
    {q:'Clothes help us‚Ä¶', opts:['Eat','Stay comfortable','Sleep'], a:1},
    {q:'What to wear in winter?', opts:['Coat','Shorts','Hat'], a:0},
    {q:'What do we wear on the upper body?', opts:['Shirt','Shoes','Dress'], a:0},
    {q:'Shoes are for‚Ä¶', opts:['Hands','Feet','Head'], a:1},
    {q:'What protects from sun?', opts:['Hat','Coat','Shoes'], a:0},
    {q:'Clothes are‚Ä¶', opts:['Food','Things we wear','Toys'], a:1}
  ]
},

l9: { 
  title: {kz:'“ö–∞–∑–∞“õ: –ñ–µ–º—ñ—Å—Ç–µ—Ä', en:'Kazakh: Fruits'},
  texts: [
    `–ñ–µ–º—ñ—Å—Ç–µ—Ä –ø–∞–π–¥–∞–ª—ã –∂”ô–Ω–µ –¥”ô–º–¥—ñ. –ê–ª–º–∞ “õ—ã–∑—ã–ª, —Ç”ô—Ç—Ç—ñ –∂”ô–Ω–µ “õ—ã—Ç—ã—Ä–ª–∞“õ. –ë–∞–Ω–∞–Ω–¥–∞—Ä —Å–∞—Ä—ã –∂”ô–Ω–µ –∂“±–º—Å–∞“õ. –ñ“Ø–∑—ñ–º —à–æ“õ –±–æ–ª—ã–ø ”©—Å–µ–¥—ñ. –ê–ø–µ–ª—å—Å–∏–Ω–¥–µ—Ä —à—ã—Ä—ã–Ω–¥—ã –∂”ô–Ω–µ –¥”ô—Ä—É–º–µ–Ω–¥–µ—Ä–≥–µ —Ç–æ–ª—ã.`, 
`–ë–∞–ª–∞–ª–∞—Ä –∂–µ–º—ñ—Å –∞—Ç–∞—É–ª–∞—Ä—ã–Ω, —Ç“Ø—Å—ñ–Ω –∂”ô–Ω–µ –¥”ô–º—ñ–Ω —Ç–∞–Ω—É“ì–∞ “Ø–π—Ä–µ–Ω–µ–¥—ñ. –ñ–µ–º—ñ—Å—Ç–µ—Ä–¥—ñ –∂–µ—É –±—ñ–∑–≥–µ –∫“Ø–Ω —Å–∞–π—ã–Ω –∫“Ø—à—Ç—ñ –∂”ô–Ω–µ —Å–∞—É –±–æ–ª—É“ì–∞ –∫”©–º–µ–∫—Ç–µ—Å–µ–¥—ñ.` ],
  glossary: [
  ['–∞–ª–º–∞','apple'],['–±–∞–Ω–∞–Ω','banana'],['–∂“Ø–∑—ñ–º','grapes'],['–∞–ø–µ–ª—å—Å–∏–Ω','orange'],['–∞–ª–º“±—Ä—Ç','pear'], 
  ['–∂–µ–º—ñ—Å','fruit'],['–¥”ô—Ä—É–º–µ–Ω–¥–µ—Ä','vitamins'],['–¥–µ–Ω—Å–∞—É–ª—ã“õ“õ–∞ –ø–∞–π–¥–∞–ª—ã','good for health'],['–¥”ô–º–¥—ñ','delicious'],['–∂–µ—É','eat']],
  quiz: [
  {q:'“ö–∞–π –∂–µ–º—ñ—Å “õ—ã–∑—ã–ª —Ç“Ø—Å—Ç—ñ?', opts:['–ê–ª–º–∞','–ë–∞–Ω–∞–Ω','–ñ“Ø–∑—ñ–º'], a:0},
  {q:'–°–∞—Ä—ã –∂”ô–Ω–µ –∂“±–º—Å–∞“õ –∂–µ–º—ñ—Å “õ–∞–π—Å—ã?', opts:['–ë–∞–Ω–∞–Ω','–ê–ø–µ–ª—å—Å–∏–Ω','–ê–ª–º“±—Ä—Ç'], a:0},
  {q:'“ö–∞–π—Å—ã—Å—ã —Ç–æ–ø—Ç–∞—Å—ã–ø ”©—Å–µ–¥—ñ?', opts:['–ñ“Ø–∑—ñ–º','–ê–ª–º–∞','–ê–ø–µ–ª—å—Å–∏–Ω'], a:0},
  {q:'“ö–∞–π –∂–µ–º—ñ—Å —à—ã—Ä—ã–Ω–¥—ã –∂”ô–Ω–µ –¥”ô—Ä—É–º–µ–Ω–≥–µ –±–∞–π?', opts:['–ê–ø–µ–ª—å—Å–∏–Ω','–ë–∞–Ω–∞–Ω','–ê–ª–º“±—Ä—Ç'], a:0},
  {q:'“ö–∞–π—Å—ã—Å—ã —Ç”ô—Ç—Ç—ñ –∂”ô–Ω–µ –∂“±–º—Å–∞“õ?', opts:['–ê–ª–º“±—Ä—Ç','–ê–ª–º–∞','–ñ“Ø–∑—ñ–º'], a:0},
  {q:'–ñ–µ–º—ñ—Å—Ç–µ—Ä “õ–∞–ª–∞–π —Å–∏–ø–∞—Ç—Ç–∞–ª–∞–¥—ã?', opts:['–î”ô–º–¥—ñ –∂”ô–Ω–µ –ø–∞–π–¥–∞–ª—ã','–ö–∏—ñ–º','–ñ–∞–Ω—É–∞—Ä–ª–∞—Ä'], a:0},
  {q:'–î–µ–Ω—Å–∞—É–ª—ã“ì—ã–º—ã–∑“ì–∞ –Ω–µ –∫”©–º–µ–∫—Ç–µ—Å–µ–¥—ñ?', opts:['–ñ–µ–º—ñ—Å—Ç–µ—Ä','–ê—è“õ –∫–∏—ñ–º','–ö—ñ—Ç–∞–ø'], a:0},
  {q:'“ö–∞–π—Å—ã –∂–µ–º—ñ—Å “õ—ã—Ç—ã—Ä–ª–∞“õ?', opts:['–ê–ª–º–∞','–ë–∞–Ω–∞–Ω','–ñ“Ø–∑—ñ–º'], a:0},
  {q:'–ñ–µ–º—ñ—Å—Ç—ñ“£ —Ç“Ø—Å—ñ “õ–∞–Ω–¥–∞–π –±–æ–ª—É—ã –º“Ø–º–∫—ñ–Ω?', opts:['“ö—ã–∑—ã–ª, —Å–∞—Ä—ã, –∫“Ø–ª–≥—ñ–Ω','–ö”©–∫, “õ–∞—Ä–∞','–ê“õ'], a:0},
  {q:'–ñ–µ–º—ñ—Å—Ç–µ—Ä–¥—ñ –∂–µ—É “õ–∞–Ω–¥–∞–π ”ô—Å–µ—Ä –±–µ—Ä–µ–¥—ñ?', opts:['–î–µ–Ω—Å–∞—É–ª—ã“õ“õ–∞ –ø–∞–π–¥–∞–ª—ã','“ö–∞—É—ñ–ø—Ç—ñ','–ñ–∞–ª—ã“õ—Ç—ã—Ä–∞–¥—ã'], a:0}
]
},
};

/******** Lesson View ********/
function renderLessonView(id){
  const data = LESSONS[id];
  if(!data){ app.innerHTML = '<div class="muted">Not found</div>'; return; }
  const title = data.title[state.lang]||data.title.kz;
  const cont = el('<div class="grid"></div>');
  const texts = data.texts.map((tx,i)=>`<div class="lesson-text mb12"><b>Text ${i+1}.</b> ${tx}</div>`).join('');
  const gloss = data.glossary.map(([w,def])=>`<div class="pill"><b>${w}</b> ‚Äî ${def}</div>`).join('');
  cont.appendChild(card(title, t('readAll'), texts + `<div class="pillbar mt12">${gloss}</div>`));

  // quiz
  const qWrap = el('<div class="card"><h3 class="title"></h3><div class="body"></div><div class="row mt12"></div></div>');
  qWrap.querySelector('.title').textContent = t('test');
  const form = document.createElement('form');
  form.innerHTML = data.quiz.map((q,i)=>{
    const opts = q.opts.map((o,ix)=>`<label class="answer"><input type="radio" name="q${i}" value="${ix}"/> <span>${o}</span></label>`).join('');
    return `<div class="question mb12"><div><b>${i+1}.</b> ${q.q}</div><div class="answers">${opts}</div></div>`;
  }).join('') + `<div class="flex between mt16"><button class="btn" type="button" onclick="go('lessons')">${t('back')}</button><button class="btn primary" type="submit">${t('submit')}</button></div>`;
  qWrap.querySelector('.body').appendChild(form);
  cont.appendChild(qWrap);

  form.onsubmit = (ev)=>{
    ev.preventDefault();
    const user = [...new FormData(form).entries()].map(([k,v])=>Number(v));
    let score=0; const corr=[];
    data.quiz.forEach((q,i)=>{ const a=q.a; corr.push(a); if(user[i]===a) score++; });
    const total = data.quiz.length;
    const resHtml = `<div class="pillbar mt12"><div class="pill">${t('yourScore')}: ${score}/${total}</div></div>
      <div class="grid mt12"><div class="card"><b>${t('correct')}</b><div class="pillbar mt8">${corr.map((a,i)=>`<div class=\"pill\">${i+1}: ${data.quiz[i].opts[a]}</div>`).join('')}</div></div>
      <div class="card"><b>${t('yourAns')}</b><div class="pillbar mt8">${user.map((a,i)=>`<div class=\"pill\">${i+1}: ${a!=null?data.quiz[i].opts[a]:"‚Äî"}</div>`).join('')}</div></div></div>
      <div class="row mt12"><button class="btn" onclick="go('lessonView:${id}')">${t('retake')}</button></div>`;

    addResult({type:'lesson', id, title, score, total});

    qWrap.querySelector('.body').innerHTML = resHtml;
  };

  app.appendChild(cont);
}

/******** Games Hub ********/
function renderGames(){
  const grid = el('<div class="grid cards"></div>');

  const c1 = card(t('g1'), 'Match words to meanings', '', `<button class="btn primary" onclick="go('gameDD')">${t('go')}</button>`);
  const c2 = card(t('g2'), 'Find all hidden words', '', `<button class="btn primary" onclick="go('gameWS')">${t('go')}</button>`);
  const c3 = card(t('g3'), 'Answer quiz questions quickly', '', `<button class="btn primary" onclick="go('gameQuiz')">${t('go')}</button>`);
  const c4 = card(t('g4'), 'Practice with flashcards', '', `<button class="btn primary" onclick="go('gameFlash')">${t('go')}</button>`);
  const c5 = card(t('g5'), 'Build sentences from words', '', `<button class="btn primary" onclick="go('gameSentence')">${t('go')}</button>`);
  const c6 = card(t('g6'), 'True or False game', '', `<button class="btn primary" onclick="go('gameTF')">${t('go')}</button>`);

  grid.appendChild(c1); 
  grid.appendChild(c2);
  grid.appendChild(c3);
  grid.appendChild(c4);
  grid.appendChild(c5);
  grid.appendChild(c6);

  app.appendChild(grid);
}

/******** Game: Drag&Drop Matching ********/
function renderGameDD(){
  const gameSets = [
    {
      title:"Drag & Drop 1",
      desc:"–°”©–∑–¥–µ—Ä–¥—ñ –¥“±—Ä—ã—Å –∞—É–¥–∞—Ä–º–∞—Å—ã–Ω–∞ –∞–ø–∞—Ä—ã“£—ã–∑.",
      pairs:[
        ['hello','—Å”ô–ª–µ–º'],['book','–∫—ñ—Ç–∞–ø'],['teacher','–º“±“ì–∞–ª—ñ–º'],
        ['friend','–¥–æ—Å'],['city','“õ–∞–ª–∞'],['thank you','—Ä–∞“õ–º–µ—Ç']
      ]
    },
    {
      title:"Drag & Drop 2",
      desc:"–ñ–∞–Ω—É–∞—Ä–ª–∞—Ä–¥—ã —Å”ô–π–∫–µ—Å—Ç–µ–Ω–¥—ñ—Ä.",
      pairs:[
        ['cat','–º—ã—Å—ã“õ'],['dog','–∏—Ç'],['horse','–∂—ã–ª“õ—ã'],
        ['bird','“õ“±—Å'],['fish','–±–∞–ª—ã“õ'],['cow','—Å–∏—ã—Ä']
      ]
    },
    {
      title:"Drag & Drop 3",
      desc:"–ú–µ–∫—Ç–µ–ø –∑–∞—Ç—Ç–∞—Ä—ã–Ω —Å”ô–π–∫–µ—Å—Ç–µ–Ω–¥—ñ—Ä.",
      pairs:[
        ['pen','“õ–∞–ª–∞–º'],['pencil','“õ–∞—Ä—ã–Ω–¥–∞—à'],['desk','“Ø—Å—Ç–µ–ª'],
        ['board','—Ç–∞“õ—Ç–∞'],['chair','–æ—Ä—ã–Ω–¥—ã“õ'],['bag','—Å”©–º–∫–µ']
      ]
    }
  ];

  const cont = el('<div class="grid"></div>');

  gameSets.forEach((gs,gi)=>{
    const wrap = el('<div class="card"></div>');
    const body = el('<div class="dd-wrap"></div>');
    const left = el('<div></div>'); 
    const right = el('<div></div>');

    // shuffle items
    const shuffled = gs.pairs.slice().sort(()=>Math.random()-0.5);
    shuffled.forEach(([en,kz])=>{
      const it = el(`<div class="dd-item" draggable="true" data-key="${en}">${en}</div>`);
      left.appendChild(it);
    });
    gs.pairs.slice().sort(()=>Math.random()-0.5).forEach(([en,kz])=>{
      const sl = el(`<div class="dd-slot" data-accept="${en}">${kz}</div>`);
      right.appendChild(sl);
    });
    body.appendChild(left); body.appendChild(right);
    wrap.appendChild(el(`<h3 class="title">${gs.title}</h3>`));
    wrap.appendChild(body);
    wrap.appendChild(el(`<div class="mt12 muted">${gs.desc}</div>`));

    let correct=0, total=gs.pairs.length;
    let dragging=null;
    wrap.addEventListener('dragstart', e=>{
      if(e.target.classList.contains('dd-item')) dragging=e.target;
    });
    wrap.addEventListener('dragover', e=>{
      if(e.target.classList.contains('dd-slot')) e.preventDefault();
    });
    wrap.addEventListener('drop', e=>{
      const slot = e.target.closest('.dd-slot'); if(!slot||!dragging) return;
      const ok = slot.dataset.accept === dragging.dataset.key;
      slot.classList.add('filled'); 
      slot.textContent = slot.textContent + ' ‚úì';
      slot.style.borderColor = ok? '#22c55e' : '#ef4444';
      dragging.remove(); dragging=null;
      if(ok) correct++;
      if(wrap.querySelectorAll('.dd-item').length===0){
        const score = correct; 
        const res = el(`<div class="mt16"><div class="pill">${t('yourScore')}: ${score}/${total}</div>
        <div class="row mt12"><button class="btn" onclick="go('gameDD')">${t('retake')}</button>
        <button class="btn primary" onclick="go('games')">OK</button></div></div>`);
        wrap.appendChild(res);
        addResult({type:'game', id:'dd'+gi, title:gs.title, score, total});
      }
    });

    cont.appendChild(wrap);
  });

  app.appendChild(cont);
}

/******** Game: Word Search ********/
function renderGameWS(){
  // simple 12x12 grid
  const words = ['KAZAKH','ENGLISH','GRAMMAR','SCHOOL','HELLO','SALAM','WORD','BOOK'];
  const size=12; const grid = Array.from({length:size},()=>Array(size).fill(''));
  function place(word){
    const dirs = [[0,1], [1,0]]; // 0,1 = –∂–æ“ì–∞—Ä—ã–¥–∞–Ω —Ç”©–º–µ–Ω; 1,0 = —Å–æ–ª–¥–∞–Ω –æ“£“ì–∞
    for(let tries=0;tries<200;tries++){
      const [dx,dy]=dirs[Math.floor(Math.random()*dirs.length)];
      let x=Math.floor(Math.random()*size), y=Math.floor(Math.random()*size);
      if(x+dx*(word.length-1)<0||x+dx*(word.length-1)>=size) continue;
      if(y+dy*(word.length-1)<0||y+dy*(word.length-1)>=size) continue;
      let ok=true; for(let i=0;i<word.length;i++){ const c=grid[y+dy*i][x+dx*i]; if(c && c!==word[i]){ok=false;break;} }
      if(!ok) continue; for(let i=0;i<word.length;i++){ grid[y+dy*i][x+dx*i]=word[i]; }
      return true;
    }
    return false;
  }
  words.forEach(w=>place(w));
  const letters='ABCDEFGHIJKLMNOPQRSTUVWXYZ';
  for(let y=0;y<size;y++) for(let x=0;x<size;x++) if(!grid[y][x]) grid[y][x]=letters[Math.floor(Math.random()*26)];

  const cont = el('<div class="grid"></div>');
  const wrap = el('<div class="card"></div>');
  wrap.appendChild(el('<h3 class="title">Word Search</h3>'));
  const board = el('<div class="ws-board"></div>');
  for(let y=0;y<size;y++) for(let x=0;x<size;x++){
    const cell = el(`<div class="ws-cell" data-x="${x}" data-y="${y}">${grid[y][x]}</div>`);
    board.appendChild(cell);
  }
  wrap.appendChild(board);
  wrap.appendChild(el(`<div class="mt12">Find words: <div class="pillbar mt8" id="ws-words">${words.map(w=>`<div class='pill' data-w='${w}'>${w}</div>`).join('')}</div></div>`));

  let found=0; let start=null; let sel=[];
  board.addEventListener('mousedown', e=>{ const c=e.target.closest('.ws-cell'); if(!c) return; start=c; sel=[c]; c.classList.add('sel'); });
  board.addEventListener('mouseover', e=>{ if(!start) return; const c=e.target.closest('.ws-cell'); if(!c||sel.includes(c)) return; sel.push(c); c.classList.add('sel'); });
  document.addEventListener('mouseup', ()=>{
    if(!start) return; const letters = sel.map(c=>c.textContent).join('');
    const rev = letters.split('').reverse().join('');
    const hit = words.find(w=>w===letters||w===rev);
    if(hit){
      sel.forEach(c=>{ c.style.background='#12303f'; c.style.borderColor='#22c55e'; c.classList.remove('sel'); c.style.cursor='default'; });
      const tag = document.querySelector(`.pill[data-w='${hit}']`); if(tag){ tag.style.textDecoration='line-through'; tag.style.opacity='.6'; }
      found++;
      if(found===words.length){
        const score=words.length; const total=words.length;
        wrap.appendChild(el(`<div class='mt16'><div class='pill'>${t('yourScore')}: ${score}/${total}</div>
        <div class='row mt12'><button class='btn' onclick="go('gameWS')">${t('retake')}</button>
        <button class='btn primary' onclick="go('games')">OK</button></div></div>`));
        addResult({type:'game', id:'ws', title:t('g2'), score, total});
      }
    } else {
      sel.forEach(c=>c.classList.remove('sel'));
    }
    start=null; sel=[];
  });

  cont.appendChild(wrap); app.appendChild(cont);
}

/******** Game: Quiz Challenge ********/
function renderGameQuiz(){
  app.innerHTML = '';
  const wrap = el('<div class="card"></div>');
  wrap.innerHTML = `
    <h3>${t('g3')}</h3>
     <p>Answer the quiz questions quickly.</p>
    <form id="quizForm">
      <div class="question">1.–ö—ñ—Ç–∞–ø in English?<br>
        <label><input type="radio" name="q1" value="0"> Book</label><br>
        <label><input type="radio" name="q1" value="1"> Brother</label>
      </div>
      <div class="question mt12">2. “Æ–π in English?<br>
        <label><input type="radio" name="q2" value="0"> Garden</label><br>
        <label><input type="radio" name="q2" value="1"> Home</label>
      </div>
      <div class="question mt12">3. –ú–∞—à–∏–Ω–∞ in English?<br>
        <label><input type="radio" name="q3" value="0"> Car</label><br>
        <label><input type="radio" name="q3" value="1"> Black</label>
      </div>
      <div class="question mt12">4. –ú–µ–∫—Ç–µ–ø in English?<br>
        <label><input type="radio" name="q4" value="0"> School</label><br>
        <label><input type="radio" name="q4" value="1"> Toy</label>
      </div>
      <div class="question mt12">5. –ú—ã—Å—ã“õ in English?<br>
        <label><input type="radio" name="q5" value="0"> Cat</label><br>
        <label><input type="radio" name="q5" value="1"> Skate</label>
      </div>
      <div class="question mt12">6. –î–æ–ø in English?<br>
        <label><input type="radio" name="q6" value="0"> Window</label><br>
        <label><input type="radio" name="q6" value="1"> Ball</label>
      </div>
      <div class="question mt12">7. –ö“Ø–Ω in English?<br>
        <label><input type="radio" name="q7" value="0"> Sun</label><br>
        <label><input type="radio" name="q7" value="1"> Knife</label>
      </div>
      <div class="question mt12">8. –ê–ª–º–∞ in English?<br>
        <label><input type="radio" name="q8" value="0"> Apple</label><br>
        <label><input type="radio" name="q8" value="1"> Orange</label>
      </div>
      <div class="question mt12">9. –°—É in English?<br>
        <label><input type="radio" name="q9" value="0"> Water</label><br>
        <label><input type="radio" name="q9" value="1"> Milk</label>
      </div>
      <div class="question mt12">10. –î–æ—Å in English?<br>
        <label><input type="radio" name="q10" value="0"> Friend</label><br>
        <label><input type="radio" name="q10" value="1"> Watch</label>
      </div>
      <div class="question mt12">11. –ê“ì–∞—à in English?<br>
        <label><input type="radio" name="q11" value="0"> Tree</label><br>
        <label><input type="radio" name="q11" value="1"> Floor</label>
      </div>
      <div class="question mt12">12. –ñ–æ–ª in English?<br>
        <label><input type="radio" name="q12" value="0"> Way</label><br>
        <label><input type="radio" name="q12" value="1"> Bag</label>
      </div>

      <button class="btn primary mt12" type="submit">${t('submit')}</button>
    </form>
    <div id="quizResult" class="mt12"></div>
    <div class="row mt12"><button class="btn" onclick="go('games')">${t('back')}</button></div>
  `;
  app.appendChild(wrap);

  document.getElementById('quizForm').onsubmit = (e)=>{
    e.preventDefault();
    let score=0;
    if(document.querySelector('input[name="q1"]:checked')?.value=="0") score++;
    if(document.querySelector('input[name="q2"]:checked')?.value=="0") score++;
    if(document.querySelector('input[name="q3"]:checked')?.value=="0") score++;
    if(document.querySelector('input[name="q4"]:checked')?.value=="0") score++;
    if(document.querySelector('input[name="q5"]:checked')?.value=="0") score++;
    if(document.querySelector('input[name="q6"]:checked')?.value=="0") score++;
    if(document.querySelector('input[name="q7"]:checked')?.value=="0") score++;
    if(document.querySelector('input[name="q8"]:checked')?.value=="0") score++;
    if(document.querySelector('input[name="q9"]:checked')?.value=="0") score++;
    if(document.querySelector('input[name="q10"]:checked')?.value=="0") score++;
    if(document.querySelector('input[name="q11"]:checked')?.value=="0") score++;
    if(document.querySelector('input[name="q12"]:checked')?.value=="0") score++;

    document.getElementById('quizResult').textContent = `Score: ${score}/12`;
    addResult({type:'game', id:'quiz', title:t('g3'), score, total:12});
  };
}


/******** Game: Flashcards ********/
function renderGameFlash(){
  app.innerHTML = '';
  const wrap = el('<div class="card"></div>');
  const words = [
  {front:'How are you?', back:'“ö–∞–ª—ã“£ “õ–∞–ª–∞–π?'},
  {front:'I am fine, thank you.', back:'–ú–µ–Ω –∂–∞“õ—Å—ã–º—ã–Ω, —Ä–∞“õ–º–µ—Ç.'},
  {front:'What is your name?', back:'–ê—Ç—ã“£ –∫—ñ–º?'},
  {front:'My name is Aidos.', back:'–ú–µ–Ω—ñ“£ –∞—Ç—ã–º –ê–π–¥–æ—Å.'},
  {front:'Where are you from?', back:'–°–µ–Ω “õ–∞–π –∂–∞“õ—Ç–∞–Ω—Å—ã“£?'},
  {front:'I am from Almaty.', back:'–ú–µ–Ω –ê–ª–º–∞—Ç—ã–¥–∞–Ω–º—ã–Ω.'},
  {front:'Can you help me?', back:'–ú–∞“ì–∞–Ω –∫”©–º–µ–∫—Ç–µ—Å–µ—Å—ñ“£ –±–µ?'},
  {front:'Of course, no problem.', back:'”ò—Ä–∏–Ω–µ, –µ—à“õ–∞–Ω–¥–∞–π –º”ô—Å–µ–ª–µ –∂–æ“õ.'},
  {front:'What time is it?', back:'–°–∞“ì–∞—Ç “õ–∞–Ω—à–∞ –±–æ–ª–¥—ã?'},
  {front:'It is three o‚Äôclock.', back:'“Æ—à –±–æ–ª–¥—ã.'},
  {front:'I like football.', back:'–ú–∞“ì–∞–Ω —Ñ—É—Ç–±–æ–ª “±–Ω–∞–π–¥—ã.'},
  {front:'Do you speak English?', back:'–°–µ–Ω –∞“ì—ã–ª—à—ã–Ω—à–∞ —Å”©–π–ª–µ–π –∞–ª–∞—Å—ã“£ –±–∞?'},
  {front:'Just a little.', back:'–°”ô–ª “ì–∞–Ω–∞.'},
  {front:'I don‚Äôt understand.', back:'–ú–µ–Ω —Ç“Ø—Å—ñ–Ω–±–µ–¥—ñ–º.'},
  {front:'Please say it again.', back:'“ö–∞–π—Ç–∞–¥–∞–Ω –∞–π—Ç—ã“£—ã–∑—à—ã.'},
  {front:'How much is this?', back:'–ë“±–ª “õ–∞–Ω—à–∞ —Ç“±—Ä–∞–¥—ã?'},
  {front:'It is very expensive.', back:'–ë“±–ª ”©—Ç–µ “õ—ã–º–±–∞—Ç.'},
  {front:'I am hungry.', back:'–ú–µ–Ω –∞—à–ø—ã–Ω.'},
  {front:'Let‚Äôs go home.', back:'–ö–µ—Ç—Ç—ñ–∫ “Ø–π–≥–µ.'},
  {front:'See you tomorrow.', back:'–ï—Ä—Ç–µ“£ –∫–µ–∑–¥–µ—Å–∫–µ–Ω—à–µ.'}
];

  let idx=0;
  wrap.innerHTML = `
    <h3>${t('g4')}</h3>
    <div id="flashcard" class="card mt12 p12 center">Click to flip</div>
    <div class="row mt12"><button class="btn" onclick="prevFlash()">Prev</button><button class="btn primary" onclick="nextFlash()">Next</button></div>
    <div class="row mt12"><button class="btn" onclick="go('games')">${t('back')}</button></div>
  `;
  app.appendChild(wrap);

  const flash = document.getElementById('flashcard');
  let showFront=true;
  function renderCard(){
    flash.textContent = showFront ? words[idx].front : words[idx].back;
  }
  flash.onclick=()=>{ showFront=!showFront; renderCard(); };
  window.prevFlash=()=>{ if(idx>0) idx--; showFront=true; renderCard(); };
  window.nextFlash=()=>{ if(idx<words.length-1) idx++; showFront=true; renderCard(); };
  renderCard();

  addResult({type:'game', id:'flash', title:t('g4'), score:words.length, total:words.length});

}

/******** Game: Sentence Builder ********/
function renderGameSentence(){
  app.innerHTML = '';
  const wrap = el('<div class="card"></div>');
  
  // –±—ñ—Ä–Ω–µ—à–µ —Å”©–π–ª–µ–º–¥–µ—Ä
  const sentences = [
    "I am learning English",
    "She likes reading books",
    "We are going to school",
    "They play football outside",
    "My mother is cooking dinner",
    "Can you help me please"
  ];
  
  let current = 0;

  wrap.innerHTML = `
    <h3>${t('g5')}</h3>
    <p>Arrange the words to form a correct sentence:</p>
    <div id="sentenceWords" class="pillbar mt12"></div>
    <div id="sentenceBuild" class="pillbar mt12"></div>
    <button class="btn primary mt12" onclick="checkSentence()">Check</button>
    <div id="sentenceResult" class="mt12"></div>
    <div class="row mt12">
      <button class="btn" onclick="prevSentence()">Prev</button>
      <button class="btn primary" onclick="nextSentence()">Next</button>
    </div>
    <div class="row mt12"><button class="btn" onclick="go('games')">${t('back')}</button></div>
  `;
  app.appendChild(wrap);

  const wordArea=document.getElementById('sentenceWords');
  const buildArea=document.getElementById('sentenceBuild');
  const result=document.getElementById('sentenceResult');

  function loadSentence(){
    wordArea.innerHTML='';
    buildArea.innerHTML='';
    result.textContent='';
    let words = sentences[current].split(" ");
    // shuffle
    words = words.sort(()=>Math.random()-0.5);
    words.forEach(w=>{
      const btn=el('<button class="pill"></button>');
      btn.textContent=w;
      btn.onclick=()=>{ buildArea.appendChild(btn); };
      wordArea.appendChild(btn);
    });
    addResult({type:'game', id:'sentence', title:t('g5'), score:1, total:1});
  
  }

  window.checkSentence=()=>{
    const built=[...buildArea.querySelectorAll('button')].map(b=>b.textContent).join(' ');
    const correct=sentences[current];
    result.textContent=(built===correct)?"‚úÖ Correct!":"‚ùå Try again!";
  };

  window.nextSentence=()=>{
    if(current<sentences.length-1){ current++; loadSentence(); }
  };
  window.prevSentence=()=>{
    if(current>0){ current--; loadSentence(); }
  };

  loadSentence();
}

/******** Game: True or False ********/
function renderGameTF(){
  app.innerHTML = '';
  const wrap = el('<div class="card"></div>');

  const questions = [
  {text:"–ú—ã—Å—ã“õ –∞“ì–∞—à“õ–∞ ”©—Ä–ª–µ–π –∞–ª–∞–¥—ã.", ans:true},
  {text:"–ö—Ä–æ–∫–æ–¥–∏–ª –∫“Ø–Ω —Å–∞–π—ã–Ω –º—ã—Å—ã“õ –∂–µ–π–¥—ñ.", ans:false},
  {text:"The sun rises in the east.", ans:true},
  {text:"–ê–π –∫“Ø–Ω–Ω–µ–Ω “Ø–ª–∫–µ–Ω.", ans:false},
  {text:"“ö“±—Å—Ç–∞—Ä “±—à–∞ –∞–ª–∞–¥—ã.", ans:true},
  {text:"Fish can walk on the road.", ans:false},
  {text:"–ò—Ç—Ç–µ—Ä –∂–∞–Ω—É–∞—Ä–ª–∞—Ä.", ans:true},
  {text:"A chair is used for sleeping.", ans:false},
  {text:"–°—É ”©–º—ñ—Ä “Ø—à—ñ–Ω “õ–∞–∂–µ—Ç.", ans:true},
  {text:"The sky is green.", ans:false},
  {text:"“ö—ã—Å –∂–∞–∑–¥–∞–Ω —Å—É—ã“õ.", ans:true},
  {text:"–°–∏—ã—Ä —Å“Ø—Ç –±–µ—Ä–µ–¥—ñ.", ans:true},
  {text:"Cars can swim in the sea.", ans:false},
  {text:"–ê–¥–∞–º–¥–∞—Ä“ì–∞ —Ç—ã–Ω—ã—Å –∞–ª—É “Ø—à—ñ–Ω –∞—É–∞ “õ–∞–∂–µ—Ç.", ans:true},
  {text:"–û—Ç —Å—É—ã“õ.", ans:false},
  {text:"–¢”ô—Ç—Ç—ñ –∞–ª–º–∞ “õ—ã–∑—ã–ª –±–æ–ª–∞–¥—ã.", ans:true},
  {text:"Bananas are yellow.", ans:true},
  {text:"–ö“Ø–ª–∫—ñ ‚Äî –∫”©“£—ñ–ª–¥—ñ –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ.", ans:true},
  {text:"Watermelon is blue.", ans:false},
  {text:"–ö—ñ—Ç–∞–ø –æ“õ—É ‚Äî –ø–∞–π–¥–∞–ª—ã.", ans:true}
];


  let current=0, score=0;

  wrap.innerHTML = `
    <h3>${t('g6')}</h3>
    <p id="tfQ"></p>
    <div class="row mt12">
      <button class="btn" onclick="checkTF(true)">True</button>
      <button class="btn" onclick="checkTF(false)">False</button>
    </div>
    <div id="tfResult" class="mt12"></div>
    <div class="row mt12"><button class="btn" onclick="go('games')">${t('back')}</button></div>
  `;
  app.appendChild(wrap);

  const qEl=document.getElementById('tfQ');
  const rEl=document.getElementById('tfResult');

  function loadQ(){
    if(current<questions.length){
      qEl.textContent=questions[current].text;
      rEl.textContent='';
    } else {
      qEl.textContent="Game Over!";
      rEl.innerHTML=`Your score: ${score}/${questions.length}`;
      // ‚úÖ –†–µ–π—Ç–∏–Ω–≥–∫–µ “õ–æ—Å—É
      addResult({type:'game', id:'tf', title:t('g6'), score, total:questions.length});
    }
  }

  window.checkTF=(ans)=>{
    if(current>=questions.length) return;
    if(ans===questions[current].ans){
      score++;
      rEl.textContent="‚úÖ Correct!";
    } else {
      rEl.textContent="‚ùå Wrong!";
    }
    current++;
    setTimeout(loadQ, 800);
  };

  loadQ();
}

/******** Tests Hub (20 Q each) ********/
function renderTests(){
  const grid = el('<div class="grid cards"></div>');
  const c1 = card(t('t1'), 'Words & for kids', '', `<button class="btn primary" onclick="go('testEN')">${t('go')}</button>`);
  const c2 = card(t('t2'), '“ö–∞–∑–∞“õ—à–∞ —Å“±—Ä–∞“õ—Ç–∞—Ä', '', `<button class="btn primary" onclick="go('testKZ')">${t('go')}</button>`);
  grid.appendChild(c1); grid.appendChild(c2); app.appendChild(grid);
}

function quizView(title, items, id){
  const cont = el('<div class="grid"></div>');
  const wrap = el('<div class="card"></div>');
  wrap.appendChild(el(`<h3 class='title'>${title}</h3>`));
  const form = document.createElement('form');
  form.innerHTML = items.map((q,i)=>{
    const opts = q.opts.map((o,ix)=>`<label class='answer'><input type='radio' name='q${i}' value='${ix}'/> <span>${o}</span></label>`).join('');
    return `<div class='question mb12'><div><b>${i+1}.</b> ${q.q}</div><div class='answers'>${opts}</div></div>`;
  }).join('') + `<div class='flex between mt16'><button class='btn' type='button' onclick="go('tests')">${t('back')}</button><button class='btn primary'>${t('submit')}</button></div>`;
  wrap.appendChild(form); cont.appendChild(wrap); app.appendChild(cont);

  form.onsubmit = (e)=>{
    e.preventDefault();
    const ans=[...new FormData(form).entries()].map(([,v])=>Number(v));
    let score=0; const corr=[]; items.forEach((q,i)=>{corr.push(q.a); if(ans[i]===q.a) score++;});
    addResult({type:'test', id, title, score, total:items.length});
    wrap.innerHTML = `<h3 class='title'>${title}</h3><div class='pillbar mt12'><div class='pill'>${t('yourScore')}: ${score}/${items.length}</div></div>
      <div class='grid mt12'><div class='card'><b>${t('correct')}</b><div class='pillbar mt8'>${corr.map((a,i)=>`<div class='pill'>${i+1}: ${items[i].opts[a]}</div>`).join('')}</div></div>
      <div class='card'><b>${t('yourAns')}</b><div class='pillbar mt8'>${ans.map((a,i)=>`<div class='pill'>${i+1}: ${a!=null?items[i].opts[a]:"‚Äî"}</div>`).join('')}</div></div></div>
      <div class='row mt12'><button class='btn' onclick="go('${id}')">${t('retake')}</button></div>`;
  };
}

function renderTestEN(){
  const Q = [];
const add = (q, a, opts) => Q.push({q, a, opts});

// 20 –∂–µ“£—ñ–ª —Å“±—Ä–∞“õ
add('¬´–°”ô–ª–µ–º¬ª —Å”©–∑—ñ “õ–∞–Ω–¥–∞–π?', 1, ['“ö–æ—à—Ç–∞—Å—É','–ê–º–∞–Ω–¥–∞—Å—É','–û–π–Ω–∞—É','–¢–∞–º–∞“õ—Ç–∞–Ω—É']);
add('¬´“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£¬ª “õ–∞—à–∞–Ω –∞–π—Ç—ã–ª–∞–¥—ã?', 0, ['–¢–∞“£–µ—Ä—Ç–µ“£','–¢“Ø—Å—Ç–µ','–ö–µ—à–∫–µ','–¢“Ø–Ω–¥–µ']);
add('¬´–†–∞“õ–º–µ—Ç¬ª —Å”©–∑—ñ–Ω—ñ“£ –∞—É–¥–∞—Ä–º–∞—Å—ã “õ–∞–Ω–¥–∞–π?', 1, ['hello','thank you','please','goodbye']);
add('“ö–∞–π—Å—ã—Å—ã –∂–µ–º—ñ—Å?', 0, ['–ê–ª–º–∞','–¢–∞–ø–∫–∏','“ö–∞–ª–∞–º','–ö—ñ—Ç–∞–ø']);
add('“ö–∞–π—Å—ã—Å—ã –º–µ–∫—Ç–µ–ø—Ç–µ “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã?', 0, ['“ö–∞–ª–∞–º','–ë–∞–Ω–∞–Ω','–°—ã—Ä','–ê–ª–º–∞']);
add('–î–æ—Å—Ç–∞—Ä“ì–∞ –∞–º–∞–Ω–¥–∞—Å—É “õ–∞–ª–∞–π –±–æ–ª–∞–¥—ã?', 0, ['–°”ô–ª–µ–º','–†–∞“õ–º–µ—Ç','–ö–µ—à—ñ—Ä—ñ“£—ñ–∑','–û“õ–∏–º—ã–Ω']);
add('“ö–∞–π—Å—ã—Å—ã —Å–∞—Ä—ã –∂”ô–Ω–µ –∂“±–º—Å–∞“õ?', 0, ['–ë–∞–Ω–∞–Ω','–ê–ª–º–∞','“ö–∞–ª–∞–º','–ö—ñ—Ç–∞–ø']);
add('“ö–∞–π—Å—ã—Å—ã –∂–∞–∑—É“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω?', 0, ['“ö–∞–ª–∞–º','–ê–ª–º“±—Ä—Ç','–¢–∞–ø–∫–∏','–ê–ø–µ–ª—å—Å–∏–Ω']);
add('¬´“ö–∞–π—ã—Ä–ª—ã —Ç“Ø–Ω¬ª —Å”©–∑—ñ–Ω “õ–∞—à–∞–Ω –∞–π—Ç–∞–º—ã–∑?', 0, ['–¢“Ø–Ω–¥–µ','–¢–∞“£–µ—Ä—Ç–µ“£','–¢“Ø—Å—Ç–µ','–ö–µ—à–∫–µ']);
add('“ö–∞–π—Å—ã—Å—ã —Ç”ô—Ç—Ç—ñ –∂–µ–º—ñ—Å?', 0, ['–ê–ª–º–∞','“ö–∞–ª–∞–º','–ö—ñ—Ç–∞–ø','–°—ã–∑“ì—ã—à']);
add('“ö–∞–π—Å—ã—Å—ã–Ω –º–µ–∫—Ç–µ–ø—Ç–µ “õ–æ–ª–¥–∞–Ω–∞–º—ã–∑?', 0, ['–°—ã–∑“ì—ã—à','–ë–∞–Ω–∞–Ω','–ê–ª–º–∞','“ö–∞–ª–∞']);
add('–î–æ—Å—Ç–∞—Ä“ì–∞ “õ–æ—à—Ç–∞—Å—É “õ–∞–ª–∞–π –±–æ–ª–∞–¥—ã?', 0, ['–°–∞—É –±–æ–ª','–†–∞“õ–º–µ—Ç','–°”ô–ª–µ–º','–ê–ª–º–∞']);
add('“ö–∞–π—Å—ã—Å—ã —Å“±–π—ã“õ —Å—É—Å—ã–Ω?', 0, ['–°“Ø—Ç','“ö–∞–ª–∞–º','–ö—ñ—Ç–∞–ø','–ê–ª–º–∞']);
add('¬´–†–∞“õ–º–µ—Ç¬ª –¥–µ–≥–µ–Ω–¥—ñ –∫—ñ–º–≥–µ –∞–π—Ç–∞–º—ã–∑?', 0, ['–ö”©–º–µ–∫ –∫”©—Ä—Å–µ—Ç–∫–µ–Ω –∞–¥–∞–º“ì–∞','–î–æ—Å“õ–∞','–ú–µ–∫—Ç–µ–ø–∫–µ','“Æ–π–≥–µ']);
add('“ö–∞–π—Å—ã—Å—ã –∂–∞—Å—ã–ª –∂”ô–Ω–µ –¥”ô–º–¥—ñ?', 0, ['–ê–ª–º“±—Ä—Ç','“ö–∞–ª–∞–º','–ö—ñ—Ç–∞–ø','–°—ã–∑“ì—ã—à']);
add('–î–æ—Å—Ç–∞—Ä“ì–∞ –∞–º–∞–Ω–¥–∞—Å—É “Ø—à—ñ–Ω –Ω–µ –∞–π—Ç–∞–º—ã–∑?', 0, ['–°”ô–ª–µ–º','–†–∞“õ–º–µ—Ç','“ö–∞–π—ã—Ä–ª—ã —Ç“Ø–Ω','“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£']);
add('“ö–∞–π—Å—ã—Å—ã –∞–ø–µ–ª—å—Å–∏–Ω–Ω–µ–Ω –∫–µ–π—ñ–Ω –∫–µ–ª–µ–¥—ñ?', 0, ['–ê–ª–º–∞','“ö–∞–ª–∞–º','–ö—ñ—Ç–∞–ø','–°—ã–∑“ì—ã—à']);
add('“Æ–π–¥–µ –Ω–µ —ñ—Å—Ç–µ–π–º—ñ–∑?', 0, ['–¢–∞–º–∞“õ—Ç–∞–Ω–∞–º—ã–∑','“ö–∞–ª–∞–º–º–µ–Ω –∂–∞–∑–∞–º—ã–∑','–°”ô–ª–µ–º –∞–π—Ç–∞–º—ã–∑','–û“õ–∏–º—ã–∑']);
add('–ú–µ–∫—Ç–µ–ø—Ç–µ –Ω–µ —ñ—Å—Ç–µ–π–º—ñ–∑?', 0, ['–û“õ–∏–º—ã–∑','–¢–∞–º–∞“õ—Ç–∞–Ω–∞–º—ã–∑','“∞–π—ã“õ—Ç–∞–π–º—ã–∑','–°–∞–ø–∞—Ä“ì–∞ —à—ã“ì–∞–º—ã–∑']);
add('“ö–∞–π—Å—ã—Å—ã —Å–∞—Ä—ã –∂–µ–º—ñ—Å?', 0, ['–ë–∞–Ω–∞–Ω','–ê–ª–º–∞','“ö–∞–ª–∞–º','–ö—ñ—Ç–∞–ø']);

// –°“±—Ä–∞“õ—Ç–∞—Ä–¥—ã –∫”©—Ä—Å–µ—Ç—É
quizView(t('t2'), Q, 'testKZ');


}

function renderTestKZ(){
  const Q=[]; const add=(q,a,opts)=>Q.push({q,a,opts});
  add('¬´–°”ô–ª–µ–º–µ—Ç—Å—ñ–∑ –±–µ?¬ª ‚Äî –±“±–ª‚Ä¶',1,['–µ—Ä–∫—ñ–Ω –∞–º–∞–Ω–¥–∞—Å—É','—Ä–µ—Å–º–∏ –∞–º–∞–Ω–¥–∞—Å—É','“õ–æ—à—Ç–∞—Å—É','“õ“±—Ç—Ç—ã“õ—Ç–∞—É']);
  add('–ö”©–ø—Ç—ñ–∫ –∂–∞–ª“ì–∞—É—ã:',2,['-—ã–º/-—ñ–º','-–º—ã–Ω/-–º—ñ–Ω','-–ª–∞—Ä/-–ª–µ—Ä','-“ì–∞/-–≥–µ']);
  add('¬´“ö–∞–π—ã—Ä–ª—ã —Ç–∞“£¬ª “õ–∞—à–∞–Ω –∞–π—Ç—ã–ª–∞–¥—ã?',0,['—Ç–∞“£–µ—Ä—Ç–µ“£','—Ç“Ø—Å—Ç–µ','–∫–µ—à–∫–µ','—Ç“Ø–Ω–¥–µ']);
  add('¬´–†–∞“õ–º–µ—Ç¬ª —Å”©–∑—ñ–Ω—ñ“£ –∞—É–¥–∞—Ä–º–∞—Å—ã:',3,['hello','sorry','please','thank you']);
  add('–°–µ–ø—Ç—ñ–∫ —Å–∞–Ω—ã:',1,['6','7','8','5']);
  add('¬´–ú–µ–Ω –±–∞—Ä–¥—ã–º¬ª ‚Äî —à–∞“õ:',0,['”©—Ç–∫–µ–Ω','–æ—Å—ã','–∫–µ–ª–µ—Ä','–∞—É—ã—Å–ø–∞–ª—ã']);
  add('¬´–î–æ—Å¬ª —Å”©–∑—ñ–Ω—ñ“£ –±–∞–ª–∞–º–∞—Å—ã:',2,['teacher','city','friend','book']);
  add('–î“±—Ä—ã—Å —Ä–µ—Ç—Ç—ñ–ª—ñ–∫:',2,['VSO','SVO','SOV','OVS']);
  add('–°—ã–ø–∞–π—ã –∞–º–∞–Ω–¥–∞—Å—É:',1,['–°”ô—É!','–°”ô–ª–µ–º–µ—Ç—Å—ñ–∑ –±–µ?','–°–∞–ª–µ–º!','–°”ô–ª–µ–º!']);
  add('¬´–ñ–∞“õ—Å—ã, ”©–∑—ñ“£—ñ–∑?¬ª ‚Äî –±“±–ª‚Ä¶',3,['“õ–æ—à—Ç–∞—Å—É','—Ç–∞“£–¥–∞–Ω—É','–º–∞“õ—Ç–∞—É','–∂–∞—É–∞–ø “õ–∞–π—Ç–∞—Ä—É']);
  add('–Ü–ª—ñ–∫ —Å–µ–ø—Ç—ñ–∫—Ç—ñ“£ —Å“±—Ä–∞“ì—ã:',0,['–ö—ñ–º–Ω—ñ“£? –ù–µ–Ω—ñ“£?','–ö—ñ–º–≥–µ? –ù–µ–≥–µ?','–ö—ñ–º–¥–µ? –ù–µ–¥–µ?','–ö—ñ–º–Ω–µ–Ω? –ù–µ–¥–µ–Ω?']);
  add('–ö”©–º–µ–∫—Ç–µ—Å —Å–µ–ø—Ç—ñ–∫ –∂–∞–ª“ì–∞—É—ã:',2,['-–¥–∞/-–¥–µ','-–¥–∞–Ω/-–¥–µ–Ω','-–º–µ–Ω/-–±–µ–Ω','-“õ–∞/-–∫–µ']);
  add('¬´–°”©–∑–¥—ñ–∫¬ª —Å”©–∑—ñ–Ω—ñ“£ –∞—É–¥–∞—Ä–º–∞—Å—ã:',1,['grammar','dictionary','article','habit']);
  add('¬´Practice makes progress¬ª –∞—É–¥–∞—Ä–º–∞—Å—ã:',2,['–¢”ô–∂—ñ—Ä–∏–±–µ —Ç–æ–ª—ã“õ—Ç—ã“õ –∂–∞—Å–∞–π–¥—ã','–û–π—ã–Ω “Ø–π—Ä–µ—Ç–µ–¥—ñ','–¢”ô–∂—ñ—Ä–∏–±–µ ‚Äî –∞–ª“ì–∞ –∂—ã–ª–∂—É','–°”©–∑ ‚Äî –∫“Ø—à']);
  add('¬´“ö–∞–ª–∞¬ª ‚Äî',3,['teacher','friend','book','city']);
  add('¬´”ò–¥–µ—Ç¬ª ‚Äî',1,['answer','custom','respect','question']);
  add('¬´–ñ—ñ–∫—Ç—ñ–∫ –∂–∞–ª“ì–∞—É¬ª “õ—ã–∑–º–µ—Ç—ñ:',0,['—Ç“±–ª“ì–∞–Ω—ã –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ','–∫”©–ø—Ç—ñ–∫—Ç—ñ –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ','—Å–µ–ø—Ç—ñ–∫—Ç—ñ –∫”©—Ä—Å–µ—Ç–µ–¥—ñ','—Ç”ô—É–µ–ª–¥–µ—É–¥—ñ –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ']);
  add('¬´-—Å—ã–∑/-—Å—ñ–∑¬ª –º–∞“ì—ã–Ω–∞—Å—ã:',2,['with','to','without','from']);
  add('¬´–ñ–∞—Ç—ã—Å —Å–µ–ø—Ç—ñ–∫¬ª –∞—É–¥–∞—Ä–º–∞—Å—ã:',0,['locative','ablative','genitive','dative']);
  add('¬´“ö–∞–π—ã—Ä–ª—ã —Ç“Ø–Ω¬ª ‚Äî',3,['good day','good morning','good evening','good night']);
  quizView(t('t2'), Q, 'testKZ');
}

/******** Cabinet ********/
function renderCabinet(){
  const u = state.user;
  const grid = el('<div class="grid"></div>');

  const prof = el('<div class="card"></div>');
  prof.appendChild(el(`<h3 class='title'>${t('profile')}</h3>`));
  const img = document.createElement('img'); img.alt='avatar'; img.style.width='96px'; img.style.height='96px'; img.style.borderRadius='50%'; img.style.objectFit='cover'; img.style.border='2px solid #334155';
  img.src = (u&&u.photo)||'data:image/svg+xml;charset=UTF-8,'+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect width="100" height="100" fill="#0b1226"/><circle cx="50" cy="38" r="18" fill="#334155"/><rect x="20" y="64" width="60" height="28" rx="14" fill="#334155"/></svg>`);
  const form = el(`<form class='mt12'>
    <div class='row'>
      <label class='field'><span class='sm'>${t('fio')}</span><input class='input' name='fio' value='${u?u.fio:""}' required/></label>
      <label class='field'><span class='sm'>${t('grade')}</span><input class='input' name='grade' value='${u?u.grade:""}' required/></label>
    </div>
    <div class='row mt8'>
      <label class='field' style='min-width:260px'><span class='sm'>${t('email')}</span><input class='input' type='email' name='email' value='${u?u.email:""}' required/></label>
      <label class='field'><span class='sm'>${t('updPhoto')}</span><input class='input' type='file' accept='image/*' name='photo'/></label>
    </div>
    <div class='row mt12'>
      <button class='btn primary'>${t('save')}</button>
      <button class='btn warn' type='button' id='logout'>${t('logout')}</button>
    </div>
  </form>`);
  const wrap = el('<div class="row" style="align-items:center;gap:16px"></div>'); wrap.appendChild(img); wrap.appendChild(form);
  prof.appendChild(wrap);

  form.photo.onchange = async (e)=>{
    const f = e.target.files[0]; if(!f){ toast(t('pickImg')); return; }
    const b = await f.arrayBuffer(); const base64 = btoa(String.fromCharCode(...new Uint8Array(b)));
    const data = `data:${f.type};base64,${base64}`; img.src=data;
  };
  form.onsubmit = (ev)=>{
    ev.preventDefault();
    const fd = new FormData(form);
    const user = {
      fio: fd.get('fio'), grade: fd.get('grade'), email: fd.get('email'), photo: img.src
    };
    state.user = user; sput(LS.user,user); toast(t('save'));
  };
  form.querySelector('#logout').onclick = ()=>{ state.user=null; sput(LS.user,null); toast(t('cleared')); mount(); };

  grid.appendChild(prof);

  const res = el('<div class="card"></div>');
  res.appendChild(el(`<h3 class='title'>${t('results')}</h3>`));
  res.appendChild(el(`<div class='pillbar mt8'>${state.results.length?state.results.map(resultRow).join(''):`<span class='muted'>${t('empty')}</span>`}</div>`));
  grid.appendChild(res);

  app.appendChild(grid);
}

/******** Init ********/
document.getElementById('year').textContent = new Date().getFullYear();

document.querySelectorAll('.tab').forEach(b=>b.onclick=()=>go(b.dataset.tab));

showRatingBadge();
mount();
</script>
</body>
</html>
